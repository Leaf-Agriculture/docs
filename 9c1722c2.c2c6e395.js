(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{116:function(e,a,n){"use strict";n.r(a),n.d(a,"frontMatter",(function(){return c})),n.d(a,"metadata",(function(){return l})),n.d(a,"rightToc",(function(){return b})),n.d(a,"default",(function(){return O}));var t=n(2),r=n(6),s=(n(0),n(156)),i=n(163),o=n(164),c=(n(159),{title:"Leaf Connect",description:"Leaf Connect"}),l={unversionedId:"connect",id:"connect",isDocsHomePage:!1,title:"Leaf Connect",description:"Leaf Connect",source:"@site/docs/connect.md",permalink:"/docs/docs/connect",editUrl:"https://github.com/Leaf-Agriculture/docs/tree/master/docs/connect.md",sidebar:"docs",previous:{title:"Irrigation Endpoints",permalink:"/docs/docs/irrigation_endpoints"},next:{title:"Beta Features Overview",permalink:"/docs/docs/beta_features_overview"}},b=[{value:"About",id:"about",children:[{value:"How it works",id:"how-it-works",children:[]}]},{value:"Endpoints",id:"endpoints",children:[{value:"Get API Owner sharing relation",id:"get-api-owner-sharing-relation",children:[]},{value:"Get API Owner sharing relation status",id:"get-api-owner-sharing-relation-status",children:[]},{value:"Create an API Owner sharing relation",id:"create-an-api-owner-sharing-relation",children:[]},{value:"Update an API Owner sharing relation status",id:"update-an-api-owner-sharing-relation-status",children:[]},{value:"Get LeafUser permissions",id:"get-leafuser-permissions",children:[]},{value:"Create a LeafUser permissions",id:"create-a-leafuser-permissions",children:[]},{value:"Update LeafUser permissions",id:"update-leafuser-permissions",children:[]},{value:"Invalidate receiver&#39;s tokens",id:"invalidate-receivers-tokens",children:[]},{value:"Delete LeafUser sharing permissions",id:"delete-leafuser-sharing-permissions",children:[]}]}],p={rightToc:b};function O(e){var a=e.components,n=Object(r.a)(e,["components"]);return Object(s.b)("wrapper",Object(t.a)({},p,n,{components:a,mdxType:"MDXLayout"}),Object(s.b)("h2",{id:"about"},"About"),Object(s.b)("p",null,"The Leaf API allows an API Owner to grant permission to access ",Object(s.b)("a",Object(t.a)({parentName:"p"},{href:"/docs/field_boundary_management_overview"}),"Field Boundaries"),", ",Object(s.b)("a",Object(t.a)({parentName:"p"},{href:"/docs/operations_overview"}),"Field Operations")," and ",Object(s.b)("a",Object(t.a)({parentName:"p"},{href:"/docs/beta_assets_endpoints"}),"Machine Data Files")," to other API Owners. The access is controlled at the Leaf user level by the API account that owns the data."),Object(s.b)("p",null,"All HTTP methods should be prepended by this service's endpoint:"),Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{}),"https://api.withleaf.io/services/usermanagement/api\n\n")),Object(s.b)("h3",{id:"how-it-works"},"How it works"),Object(s.b)("h4",{id:"scenario"},"Scenario"),Object(s.b)("p",null,"API Owner A wants to grant permission to API Owner B to read their fields."),Object(s.b)("h4",{id:"1---sharing-relation"},"1 - Sharing Relation"),Object(s.b)("p",null,"The first step is to create a relationship between the API Owners, from who owns the data - the sender (API Owner A) to the receiver (API Owner B). Check the endpoint ",Object(s.b)("a",Object(t.a)({parentName:"p"},{href:"#create-an-api-owner-sharing-relation"}),"Create an API Owner sharing relation"),".  "),Object(s.b)("p",null,"The receiver API Owner (API Owner B) must confirm the relationship ",Object(s.b)("a",Object(t.a)({parentName:"p"},{href:"#update-an-api-owner-sharing-relation-status"}),"changing the relation status")," to ",Object(s.b)("inlineCode",{parentName:"p"},"ALLOWED"),"."),Object(s.b)("p",null,"This relationship status can be ",Object(s.b)("a",Object(t.a)({parentName:"p"},{href:"#update-an-api-owner-sharing-relation-status"}),"changed")," in the future by both sides, but once the sender blocks the relationship, the receiver will not be able to access the data, nor to reactivate the sharing relation status."),Object(s.b)("p",null,Object(s.b)("em",{parentName:"p"},"This step is only necessary once, that is, it is not necessary to repeat this step for new integrations with the same receiver."),"  "),Object(s.b)("h4",{id:"2---permissions"},"2 - Permissions"),Object(s.b)("p",null,"In this step, permissions are granted for the resources of each Leaf user. More info ",Object(s.b)("a",Object(t.a)({parentName:"p"},{href:"#create-a-leafuser-permissions"}),"here"),".  "),Object(s.b)("p",null,Object(s.b)("strong",{parentName:"p"},"Note"),": This permission is ",Object(s.b)("inlineCode",{parentName:"p"},"READ")," only and ",Object(s.b)("inlineCode",{parentName:"p"},"FIELDS")," and ",Object(s.b)("inlineCode",{parentName:"p"},"OPERATIONS")," resources are available."),Object(s.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(s.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(s.b)("h5",{parentName:"div"},Object(s.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(s.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(s.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"Company")),Object(s.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(s.b)("p",{parentName:"div"},"Company-level sharing is not supported, but the permission can be granted or revoked at the same time the Leaf user is added or removed from the company."))),Object(s.b)("h4",{id:"3---access"},"3 - Access"),Object(s.b)("p",null,"At the end of these steps, API Owner B will be able to visualize the fields, operations and/or machine data files from the shared Leaf user, using the existing field/operations/machine data files endpoints, like ",Object(s.b)("a",Object(t.a)({parentName:"p"},{href:"/docs/field_boundary_management_endpoints#get-all-fields"}),"this one"),"."),Object(s.b)("h2",{id:"endpoints"},"Endpoints"),Object(s.b)("p",null,"This service has the following endpoints available:"),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(t.a)({parentName:"tr"},{align:null}),"Description"),Object(s.b)("th",Object(t.a)({parentName:"tr"},{align:null}),"Endpoints"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("a",Object(t.a)({parentName:"td"},{href:"#get-api-owner-sharing-relation"}),"Get API Owner sharing relation")),Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("span",{class:"badge badge--success"},"GET")," ",Object(s.b)("inlineCode",{parentName:"td"},"/usermanagement/api/api-owners/sharing-relation/{RelationRole}"))),Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("a",Object(t.a)({parentName:"td"},{href:"#get-api-owner-sharing-relation-status"}),"Get API Owner sharing relation status")),Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("span",{class:"badge badge--success"},"GET")," ",Object(s.b)("inlineCode",{parentName:"td"},"/usermanagement/api/api-owners/sharing-relation/{RelationRole}/{targetApiOwner}/status"))),Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("a",Object(t.a)({parentName:"td"},{href:"#create-an-api-owner-sharing-relation"}),"Create an API Owner sharing relation")),Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("span",{class:"badge badge--warning"},"POST")," ",Object(s.b)("inlineCode",{parentName:"td"},"/usermanagement/api/api-owners/sharing-relation/receiver"))),Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("a",Object(t.a)({parentName:"td"},{href:"#update-an-api-owner-sharing-relation-status"}),"Update an API Owner sharing relation status")),Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("span",{class:"badge badge--warning"},"PATCH")," ",Object(s.b)("inlineCode",{parentName:"td"},"/usermanagement/api/api-owners/sharing-relation/{RelationRole}/{targetApiOwner}"))),Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("a",Object(t.a)({parentName:"td"},{href:"#get-leafuser-permissions"}),"Get LeafUser permissions")),Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("span",{class:"badge badge--success"},"GET")," ",Object(s.b)("inlineCode",{parentName:"td"},"/usermanagement/api/api-owners/sharing-relation/{RelationRole}/{TargetApiOwner}/users-permissions/{leafUserId}"))),Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("a",Object(t.a)({parentName:"td"},{href:"#create-a-leafuser-permissions"}),"Create a LeafUser permissions")),Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("span",{class:"badge badge--warning"},"POST")," ",Object(s.b)("inlineCode",{parentName:"td"},"/usermanagement/api/api-owners/sharing-relation/receiver/{ReceiverApiOwner}/users-permissions/{leafUserId}"))),Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("a",Object(t.a)({parentName:"td"},{href:"#update-leafuser-permissions"}),"Update LeafUser permissions")),Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("span",{class:"badge badge--warning"},"PATCH")," ",Object(s.b)("inlineCode",{parentName:"td"},"/usermanagement/api/api-owners/sharing-relation/receiver/{ReceiverApiOwner}/users-permissions/{leafUserId}/{RESOURCE}"))),Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("a",Object(t.a)({parentName:"td"},{href:"#invalidate-receivers-tokens"}),"Invalidate receiver's tokens")),Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("span",{class:"badge badge--warning"},"POST")," ",Object(s.b)("inlineCode",{parentName:"td"},"/usermanagement/api/api-owners/sharing-relation/{RelationRole}/{TargetApiOwner}/invalidate-tokens"))),Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("a",Object(t.a)({parentName:"td"},{href:"#delete-leafuser-sharing-permissions"}),"Delete LeafUser sharing permissions")),Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("span",{class:"badge badge--danger"},"DELETE")," ",Object(s.b)("inlineCode",{parentName:"td"},"/usermanagement/api/api-owners/sharing-relation/{RelationRole}/{ReceiverApiOwner}/users-permissions/{leafUserId}"))))),Object(s.b)("h3",{id:"get-api-owner-sharing-relation"},"Get API Owner sharing relation"),Object(s.b)("p",null,"\xa0",Object(s.b)("span",{class:"badge badge--success"},"GET")," ",Object(s.b)("inlineCode",{parentName:"p"},"/usermanagement/api/api-owners/sharing-relation/{RelationRole}")),Object(s.b)("p",null,"Get all API Owners relation based on the relation role: ",Object(s.b)("inlineCode",{parentName:"p"},"SENDER")," or ",Object(s.b)("inlineCode",{parentName:"p"},"RECEIVER"),"."),Object(s.b)("h4",{id:"request-examples"},"Request examples"),Object(s.b)(i.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(s.b)(o.a,{value:"js",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"const axios = require('axios')\nconst TOKEN = 'YOUR_TOKEN'\n\nconst endpoint = 'https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver'\nconst headers = { 'Authorization': `Bearer ${TOKEN}` }\n\naxios.get(endpoint, { headers })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n"))),Object(s.b)(o.a,{value:"py",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),"import requests\n\nTOKEN = 'YOUR_TOKEN'\n\nendpoint = 'https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver'\nheaders = {'Authorization': f'Bearer {TOKEN}'}\n\nresponse = requests.get(endpoint, headers=headers)\nprint(response.json())\n"))),Object(s.b)(o.a,{value:"sh",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell"}),"curl -X GET \\\n    -H 'Authorization: Bearer YOUR_TOKEN' \\\n    'https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver'\n")))),Object(s.b)("h4",{id:"response"},"Response"),Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'[\n  {\n    "senderApiOwner": "{senderApiOwner}",\n    "receiverApiOwner": "{receiverApiOwner}",\n    "status": "ALLOWED"\n  }\n]\n')),Object(s.b)("h3",{id:"get-api-owner-sharing-relation-status"},"Get API Owner sharing relation status"),Object(s.b)("p",null,"\xa0",Object(s.b)("span",{class:"badge badge--success"},"GET")," ",Object(s.b)("inlineCode",{parentName:"p"},"/usermanagement/api/api-owners/sharing-relation/{RelationRole}/{targetApiOwner}/status")),Object(s.b)("p",null,"Get the relation status based in the relation role (",Object(s.b)("inlineCode",{parentName:"p"},"SENDER")," or ",Object(s.b)("inlineCode",{parentName:"p"},"RECEIVER"),")."),Object(s.b)("h4",{id:"request-examples-1"},"Request examples"),Object(s.b)(i.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(s.b)(o.a,{value:"js",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"const axios = require('axios')\nconst TOKEN = 'YOUR_TOKEN'\n\nconst endpoint = 'https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver/{ReceiverApiOwner}/status'\nconst headers = { 'Authorization': `Bearer ${TOKEN}` }\n\naxios.get(endpoint, { headers })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n"))),Object(s.b)(o.a,{value:"py",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),"import requests\n\nTOKEN = 'YOUR_TOKEN'\n\nendpoint = 'https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver/{ReceiverApiOwner}/status'\nheaders = {'Authorization': f'Bearer {TOKEN}'}\n\nresponse = requests.get(endpoint, headers=headers)\nprint(response.json())\n"))),Object(s.b)(o.a,{value:"sh",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell"}),"curl -X GET \\\n    -H 'Authorization: Bearer YOUR_TOKEN' \\\n    'https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver/{ReceiverApiOwner}/status'\n")))),Object(s.b)("h4",{id:"response-1"},"Response"),Object(s.b)("p",null,"A string with one of the following values: ",Object(s.b)("inlineCode",{parentName:"p"},"PENDING"),", ",Object(s.b)("inlineCode",{parentName:"p"},"ALLOWED")," or ",Object(s.b)("inlineCode",{parentName:"p"},"BLOCKED"),"."),Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'"PENDING"\n')),Object(s.b)("h3",{id:"create-an-api-owner-sharing-relation"},"Create an API Owner sharing relation"),Object(s.b)("p",null,"\xa0",Object(s.b)("span",{class:"badge badge--warning"},"POST")," ",Object(s.b)("inlineCode",{parentName:"p"},"/usermanagement/api/api-owners/sharing-relation/receiver")),Object(s.b)("p",null,"Create a sharing relation between the API Owners."),Object(s.b)("h4",{id:"request-examples-2"},"Request examples"),Object(s.b)(i.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(s.b)(o.a,{value:"js",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"const axios = require('axios')\nconst TOKEN = 'YOUR_TOKEN'\n\nconst endpoint ='https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver'\nconst headers = { 'Authorization': `Bearer ${TOKEN}` }\n\nconst data = {\n    receiverApiOwner: \"{ReceiverApiOwner}\"\n}\n\naxios.post(endpoint, { headers, data })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n"))),Object(s.b)(o.a,{value:"py",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),"import requests\n\nTOKEN = 'YOUR_TOKEN'\n\nendpoint = 'https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver'\nheaders = {'Authorization': f'Bearer {TOKEN}'}\n\ndata = {\n  'receiverApiOwner': \"{ReceiverApiOwner}\"\n}\n\nresponse = requests.post(endpoint, headers=headers, json=data)\nprint(response.json())\n"))),Object(s.b)(o.a,{value:"sh",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell"}),"curl -X POST \\\n    -H 'Authorization: Bearer YOUR_TOKEN' \\\n    -d '{ \"receiverApiOwner\": \"{ReceiverApiOwner}\" }'\n    'https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver'\n")))),Object(s.b)("h4",{id:"response-2"},"Response"),Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "senderApiOwner": "{senderApiOwner}",\n  "receiverApiOwner": "{receiverApiOwner}",\n  "status": "PENDING"\n}\n')),Object(s.b)("h3",{id:"update-an-api-owner-sharing-relation-status"},"Update an API Owner sharing relation status"),Object(s.b)("p",null,"\xa0",Object(s.b)("span",{class:"badge badge--warning"},"PATCH")," ",Object(s.b)("inlineCode",{parentName:"p"},"/usermanagement/api/api-owners/sharing-relation/{RelationRole}/{targetApiOwner}")),Object(s.b)("p",null,"Update the sharing relation status. The values available are ",Object(s.b)("inlineCode",{parentName:"p"},"ALLOWED")," or ",Object(s.b)("inlineCode",{parentName:"p"},"BLOCKED"),"."),Object(s.b)("p",null,"After the sender creates a relationship, the recevier must approve it by changing the status from ",Object(s.b)("inlineCode",{parentName:"p"},"PENDING")," to ",Object(s.b)("inlineCode",{parentName:"p"},"ALLOWED"),".\nBoth API Owners can block the relation, but once locked by the sender, there is no way for the receiver to change it again."),Object(s.b)("h4",{id:"request-examples-3"},"Request examples"),Object(s.b)(i.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(s.b)(o.a,{value:"js",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"const axios = require('axios')\nconst TOKEN = 'YOUR_TOKEN'\n\nconst endpoint = 'https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver/{ReceiverApiOwner}'\nconst headers = { 'Authorization': `Bearer ${TOKEN}` }\nconst data = { 'status': 'ALLOWED or BLOCKED}\n\naxios.patch(endpoint, data, { headers })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n"))),Object(s.b)(o.a,{value:"py",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),"import requests\n\nTOKEN = 'YOUR_TOKEN'\n\nendpoint = 'https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver/{ReceiverApiOwner}'\nheaders = {'Authorization': f'Bearer {TOKEN}'}\n\ndata = {\n  'status': 'ALLOWED or BLOCKED'\n}\n\nresponse = requests.patch(endpoint, json=data, headers=headers)\nprint(response.json())\n"))),Object(s.b)(o.a,{value:"sh",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell"}),"curl -X PATCH \\\n    -H 'Authorization: Bearer YOUR_TOKEN' \\\n    -d '{ \"status\": \"ALLOWED or BLOCKED\" }' \n    'https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver/{ReceiverApiOwner}'\n")))),Object(s.b)("h4",{id:"response-3"},"Response"),Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n    "senderApiOwner": "{senderApiOwner}",\n    "receiverApiOwner": "{receiverApiOwner}",\n    "status": "ALLOWED"\n}\n')),Object(s.b)("h3",{id:"get-leafuser-permissions"},"Get LeafUser permissions"),Object(s.b)("p",null,"\xa0",Object(s.b)("span",{class:"badge badge--success"},"GET")," ",Object(s.b)("inlineCode",{parentName:"p"},"/usermanagement/api/api-owners/sharing-relation/{RelationRole}/{TargetApiOwner}/users-permissions/{leafUserId}")),Object(s.b)("p",null,"Get all permissions granted to a receiver API Owner for a Leaf user."),Object(s.b)("h4",{id:"request-examples-4"},"Request examples"),Object(s.b)(i.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(s.b)(o.a,{value:"js",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"const axios = require('axios')\nconst TOKEN = 'YOUR_TOKEN'\n\nconst endpoint = 'https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver/{ReceiverApiOwner}/users-permissions/{leafUserId}'\nconst headers = { 'Authorization': `Bearer ${TOKEN}` }\n\naxios.get(endpoint, { headers })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n"))),Object(s.b)(o.a,{value:"py",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),"import requests\n\nTOKEN = 'YOUR_TOKEN'\n\nendpoint = 'https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver/{ReceiverApiOwner}/users-permissions/{leafUserId}'\nheaders = {'Authorization': f'Bearer {TOKEN}'}\n\nresponse = requests.get(endpoint, headers=headers)\nprint(response.json())\n"))),Object(s.b)(o.a,{value:"sh",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell"}),"curl -X GET \\\n    -H 'Authorization: Bearer YOUR_TOKEN' \\\n    'https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver/{ReceiverApiOwner}/users-permissions/{leafUserId}'\n")))),Object(s.b)("h4",{id:"response-4"},"Response"),Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "permissions": {\n    "FIELDS": {\n      "actions": [\n        "READ"\n      ]\n    }\n  }\n}\n')),Object(s.b)("h3",{id:"create-a-leafuser-permissions"},"Create a LeafUser permissions"),Object(s.b)("p",null,"\xa0",Object(s.b)("span",{class:"badge badge--warning"},"POST")," ",Object(s.b)("inlineCode",{parentName:"p"},"/usermanagement/api/api-owners/sharing-relation/receiver/{ReceiverApiOwner}/users-permissions/{leafUserId}")),Object(s.b)("p",null,"Grants permission to a receiver for a given Leaf user resource."),Object(s.b)("p",null,Object(s.b)("em",{parentName:"p"},"Note: shared Leaf users (from other API Owner) are not available for grant permissions")),Object(s.b)("h4",{id:"request-examples-5"},"Request examples"),Object(s.b)(i.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(s.b)(o.a,{value:"js",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),'const axios = require(\'axios\')\nconst TOKEN = \'YOUR_TOKEN\'\n\nconst endpoint =\'https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver/{ReceiverApiOwner}/users-permissions/{leafUserId}\'\nconst headers = { \'Authorization\': `Bearer ${TOKEN}` }\n\nconst data = {\n    "permissions": {\n      "FIELDS": {\n        "actions": [\n          "READ"\n        ]\n      },\n      "OPERATIONS": {\n        "actions": [\n          "READ"\n        ],\n        "types": [\n          "PLANTED"\n        ]\n      }\n    }\n  }\n\naxios.post(endpoint, { headers, data })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n'))),Object(s.b)(o.a,{value:"py",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),'import requests\n\nTOKEN = \'YOUR_TOKEN\'\n\nendpoint = \'https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver/{ReceiverApiOwner}/users-permissions/{leafUserId}\'\nheaders = {\'Authorization\': f\'Bearer {TOKEN}\'}\n\ndata = {\n    "permissions": {\n      "FIELDS": {\n        "actions": [\n          "READ"\n        ]\n      },\n      "OPERATIONS": {\n        "actions": [\n          "READ"\n        ],\n        "types": [\n          "PLANTED"\n        ]\n      }\n    }\n  }\n\nresponse = requests.post(endpoint, headers=headers, json=data)\nprint(response.json())\n'))),Object(s.b)(o.a,{value:"sh",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell"}),'curl -X POST \\\n    -H \'Authorization: Bearer YOUR_TOKEN\' \\\n    -d \'{"permissions":{"FIELDS":{"actions":["READ"]},"OPERATIONS":{"actions":["READ"],"types":["PLANTED"]}}}\'\n    \'https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver/{ReceiverApiOwner}/users-permissions/{leafUserId}\'\n')))),Object(s.b)("h4",{id:"response-5"},"Response"),Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "leafUserId": "{leafUserId}",\n  "permissions": {\n    "FIELDS": {\n      "actions": [\n        "READ"\n      ]\n    },\n    "OPERATIONS": {\n      "actions": [\n        "READ"\n      ],\n      "types": [\n        "PLANTED"\n      ]\n    }\n  }\n}\n')),Object(s.b)("h4",{id:"availability"},"Availability"),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(t.a)({parentName:"tr"},{align:null}),"Resource"),Object(s.b)("th",Object(t.a)({parentName:"tr"},{align:null}),"Actions"),Object(s.b)("th",Object(t.a)({parentName:"tr"},{align:null}),"Types"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"FIELD")),Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"READ")),Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"-")),Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"OPERATIONS")),Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"READ")),Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"APPLIED"),", ",Object(s.b)("inlineCode",{parentName:"td"},"HARVESTED"),", ",Object(s.b)("inlineCode",{parentName:"td"},"PLANTED"))))),Object(s.b)("h3",{id:"update-leafuser-permissions"},"Update LeafUser permissions"),Object(s.b)("p",null,"\xa0",Object(s.b)("span",{class:"badge badge--warning"},"PATCH")," ",Object(s.b)("inlineCode",{parentName:"p"},"/usermanagement/api/api-owners/sharing-relation/receiver/{ReceiverApiOwner}/users-permissions/{leafUserId}/{RESOURCE}")),Object(s.b)("p",null,"Update the permissions granted to the receiver API Owner."),Object(s.b)("h4",{id:"request-examples-6"},"Request examples"),Object(s.b)(i.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(s.b)(o.a,{value:"js",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),'const axios = require(\'axios\')\nconst TOKEN = \'YOUR_TOKEN\'\n\nconst endpoint = \'https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver/{ReceiverApiOwner}/users-permissions/{leafUserId}/OPERATIONS\'\nconst headers = { \'Authorization\': `Bearer ${TOKEN}` }\n\nconst data = {\n  "actions": [\n    "READ"\n  ],\n  "types": [\n    "PLANTED", "HARVESTED"\n  ]\n}\n\naxios.patch(endpoint, { headers, data })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n'))),Object(s.b)(o.a,{value:"py",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),'import requests\n\nTOKEN = \'YOUR_TOKEN\'\n\nendpoint = \'https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver/{ReceiverApiOwner}/users-permissions/{leafUserId}/OPERATIONS\'\nheaders = {\'Authorization\': f\'Bearer {TOKEN}\'}\n\ndata = {\n  "actions": [\n    "READ"\n  ],\n  "types": [\n    "PLANTED", "HARVESTED"\n  ]\n}\n\nresponse = requests.patch(endpoint, headers=headers, json=data)\nprint(response.json())\n'))),Object(s.b)(o.a,{value:"sh",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell"}),'curl -X PATCH \\\n    -H \'Authorization: Bearer YOUR_TOKEN\' \\\n    -d \'{"actions":["READ"],"types":["PLANTED", "HARVESTED"]}\' \\\n    \'https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver/{ReceiverApiOwner}/users-permissions/{leafUserId}/OPERATIONS\'\n')))),Object(s.b)("h4",{id:"response-6"},"Response"),Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "leafUserId": "{leafUserId}",\n  "permissions": {\n    "FIELDS": {\n      "actions": [\n        "READ"\n      ]\n    },\n    "OPERATIONS": {\n      "actions": [\n        "READ"\n      ],\n      "types": [\n        "PLANTED", "HARVESTED"\n      ]\n    }\n  }\n}\n')),Object(s.b)("h4",{id:"availability-1"},"Availability"),Object(s.b)("table",null,Object(s.b)("thead",{parentName:"table"},Object(s.b)("tr",{parentName:"thead"},Object(s.b)("th",Object(t.a)({parentName:"tr"},{align:null}),"Resource"),Object(s.b)("th",Object(t.a)({parentName:"tr"},{align:null}),"Actions"),Object(s.b)("th",Object(t.a)({parentName:"tr"},{align:null}),"Types"))),Object(s.b)("tbody",{parentName:"table"},Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"FIELD")),Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"READ")),Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"-")),Object(s.b)("tr",{parentName:"tbody"},Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"OPERATIONS")),Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"READ")),Object(s.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(s.b)("inlineCode",{parentName:"td"},"APPLIED"),", ",Object(s.b)("inlineCode",{parentName:"td"},"HARVESTED"),", ",Object(s.b)("inlineCode",{parentName:"td"},"PLANTED"))))),Object(s.b)("h3",{id:"invalidate-receivers-tokens"},"Invalidate receiver's tokens"),Object(s.b)("p",null,"\xa0",Object(s.b)("span",{class:"badge badge--warning"},"POST")," ",Object(s.b)("inlineCode",{parentName:"p"},"/usermanagement/api/api-owners/sharing-relation/{RelationRole}/{TargetApiOwner}/invalidate-tokens")),Object(s.b)("p",null,"Invalidate the receiver's tokens created before the ",Object(s.b)("strong",{parentName:"p"},"current")," date and time."),Object(s.b)("h4",{id:"request-examples-7"},"Request examples"),Object(s.b)(i.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(s.b)(o.a,{value:"js",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"const axios = require('axios')\nconst TOKEN = 'YOUR_TOKEN'\n\nconst endpoint = 'https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver/{ReceiverApiOwner}/{TargetApiOwner}/invalidate-tokens'\nconst headers = { 'Authorization': `Bearer ${TOKEN}` }\n\naxios.POST(endpoint, { headers})\n    .then(res => console.log(res.data))\n    .catch(console.error)\n"))),Object(s.b)(o.a,{value:"py",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),"import requests\n\nTOKEN = 'YOUR_TOKEN'\n\nendpoint = 'https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver/{ReceiverApiOwner}/{TargetApiOwner}/invalidate-tokens'\nheaders = {'Authorization': f'Bearer {TOKEN}'}\n\nresponse = requests.post(endpoint, headers=headers)\nprint(response.json())\n"))),Object(s.b)(o.a,{value:"sh",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell"}),"curl -X PATCH \\\n    -H 'Authorization: Bearer YOUR_TOKEN' \\\n    'https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver/{ReceiverApiOwner}/{TargetApiOwner}/invalidate-tokens'\n")))),Object(s.b)("h3",{id:"delete-leafuser-sharing-permissions"},"Delete LeafUser sharing permissions"),Object(s.b)("p",null,"\xa0",Object(s.b)("span",{class:"badge badge--danger"},"DELETE")," ",Object(s.b)("inlineCode",{parentName:"p"},"/usermanagement/api/api-owners/sharing-relation/{RelationRole}/users-permissions/{leafUserId}")),Object(s.b)("p",null,"Deletes a permission."),Object(s.b)("h4",{id:"request-examples-8"},"Request examples"),Object(s.b)(i.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(s.b)(o.a,{value:"js",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"const axios = require('axios')\nconst TOKEN = 'YOUR_TOKEN'\n\nconst endpoint = 'https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver/{ReceiverApiOwner}/users-permissions/{leafUserId}'\nconst headers = { 'Authorization': `Bearer ${TOKEN}` }\n\naxios.delete(endpoint, { headers})\n    .then(res => console.log(res.data))\n    .catch(console.error)\n"))),Object(s.b)(o.a,{value:"py",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),"import requests\n\nTOKEN = 'YOUR_TOKEN'\n\nendpoint = 'https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver/{ReceiverApiOwner}/users-permissions/{leafUserId}'\nheaders = {'Authorization': f'Bearer {TOKEN}'}\n\nresponse = requests.delete(endpoint, headers=headers)\nprint(response.json())\n"))),Object(s.b)(o.a,{value:"sh",mdxType:"TabItem"},Object(s.b)("pre",null,Object(s.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell"}),"curl -X DELETE \\\n    -H 'Authorization: Bearer YOUR_TOKEN' \\\n    'https://api.withleaf.io/services/usermanagement/api/api-owners/sharing-relation/receiver/{ReceiverApiOwner}/users-permissions/{leafUserId}'\n")))))}O.isMDXComponent=!0},156:function(e,a,n){"use strict";n.d(a,"a",(function(){return p})),n.d(a,"b",(function(){return d}));var t=n(0),r=n.n(t);function s(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function i(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function o(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?i(Object(n),!0).forEach((function(a){s(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function c(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},s=Object.keys(e);for(t=0;t<s.length;t++)n=s[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++)n=s[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=r.a.createContext({}),b=function(e){var a=r.a.useContext(l),n=a;return e&&(n="function"==typeof e?e(a):o(o({},a),e)),n},p=function(e){var a=b(e.components);return r.a.createElement(l.Provider,{value:a},e.children)},O={inlineCode:"code",wrapper:function(e){var a=e.children;return r.a.createElement(r.a.Fragment,{},a)}},u=r.a.forwardRef((function(e,a){var n=e.components,t=e.mdxType,s=e.originalType,i=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),p=b(n),u=t,d=p["".concat(i,".").concat(u)]||p[u]||O[u]||s;return n?r.a.createElement(d,o(o({ref:a},l),{},{components:n})):r.a.createElement(d,o({ref:a},l))}));function d(e,a){var n=arguments,t=a&&a.mdxType;if("string"==typeof e||t){var s=n.length,i=new Array(s);i[0]=u;var o={};for(var c in a)hasOwnProperty.call(a,c)&&(o[c]=a[c]);o.originalType=e,o.mdxType="string"==typeof e?e:t,i[1]=o;for(var l=2;l<s;l++)i[l]=n[l];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},157:function(e,a,n){"use strict";var t=n(0),r=n(20);a.a=function(){var e=Object(t.useContext)(r.a);if(null===e)throw new Error("Docusaurus context not provided");return e}},158:function(e,a,n){"use strict";function t(e){var a,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(a=0;a<e.length;a++)e[a]&&(n=t(e[a]))&&(r&&(r+=" "),r+=n);else for(a in e)e[a]&&(r&&(r+=" "),r+=a);return r}a.a=function(){for(var e,a,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(a=t(e))&&(r&&(r+=" "),r+=a);return r}},159:function(e,a,n){"use strict";n.d(a,"b",(function(){return s})),n.d(a,"a",(function(){return i}));var t=n(157),r=n(160);function s(){var e=Object(t.a)().siteConfig,a=(e=void 0===e?{}:e).baseUrl,n=void 0===a?"/":a,s=e.url;return{withBaseUrl:function(e,a){return function(e,a,n,t){var s=void 0===t?{}:t,i=s.forcePrependBaseUrl,o=void 0!==i&&i,c=s.absolute,l=void 0!==c&&c;if(!n)return n;if(n.startsWith("#"))return n;if(Object(r.b)(n))return n;if(o)return a+n;var b=!n.startsWith(a)?a+n.replace(/^\//,""):n;return l?e+b:b}(s,n,e,a)}}}function i(e,a){return void 0===a&&(a={}),(0,s().withBaseUrl)(e,a)}},160:function(e,a,n){"use strict";function t(e){return!0===/^(\w*:|\/\/)/.test(e)}function r(e){return void 0!==e&&!t(e)}n.d(a,"b",(function(){return t})),n.d(a,"a",(function(){return r}))},161:function(e,a,n){"use strict";var t=n(0),r=Object(t.createContext)(void 0);a.a=r},162:function(e,a,n){"use strict";var t=n(0),r=n(161);a.a=function(){var e=Object(t.useContext)(r.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},163:function(e,a,n){"use strict";var t=n(0),r=n.n(t),s=n(162),i=n(158),o=n(48),c=n.n(o),l=37,b=39;a.a=function(e){var a=e.block,n=e.children,o=e.defaultValue,p=e.values,O=e.groupId,u=Object(s.a)(),d=u.tabGroupChoices,m=u.setTabGroupChoices,j=Object(t.useState)(o),h=j[0],g=j[1],v=Object(t.useState)(!1),N=v[0],f=v[1];if(null!=O){var w=d[O];null!=w&&w!==h&&p.some((function(e){return e.value===w}))&&g(w)}var T=function(e){g(e),null!=O&&m(O,e)},E=[],A=function(e){e.metaKey||e.altKey||e.ctrlKey||f(!0)},y=function(){f(!1)};return Object(t.useEffect)((function(){window.addEventListener("keydown",A),window.addEventListener("mousedown",y)}),[]),r.a.createElement("div",null,r.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(i.a)("tabs",{"tabs--block":a})},p.map((function(e){var a=e.value,n=e.label;return r.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":h===a,className:Object(i.a)("tabs__item",c.a.tabItem,{"tabs__item--active":h===a}),style:N?{}:{outline:"none"},key:a,ref:function(e){return E.push(e)},onKeyDown:function(e){!function(e,a,n){switch(n.keyCode){case b:!function(e,a){var n=e.indexOf(a)+1;e[n]?e[n].focus():e[0].focus()}(e,a);break;case l:!function(e,a){var n=e.indexOf(a)-1;e[n]?e[n].focus():e[e.length-1].focus()}(e,a)}}(E,e.target,e),A(e)},onFocus:function(){return T(a)},onClick:function(){T(a),f(!1)},onPointerDown:function(){return f(!1)}},n)}))),r.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},t.Children.toArray(n).filter((function(e){return e.props.value===h}))[0]))}},164:function(e,a,n){"use strict";var t=n(0),r=n.n(t);a.a=function(e){return r.a.createElement("div",null,e.children)}}}]);