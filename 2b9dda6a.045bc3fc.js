(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{157:function(e,n,t){"use strict";t.d(n,"a",(function(){return p})),t.d(n,"b",(function(){return O}));var a=t(0),r=t.n(a);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=r.a.createContext({}),b=function(e){var n=r.a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},p=function(e){var n=b(e.components);return r.a.createElement(l.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},u=r.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),p=b(t),u=a,O=p["".concat(o,".").concat(u)]||p[u]||d[u]||i;return t?r.a.createElement(O,s(s({ref:n},l),{},{components:t})):r.a.createElement(O,s({ref:n},l))}));function O(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,o=new Array(i);o[0]=u;var s={};for(var c in n)hasOwnProperty.call(n,c)&&(s[c]=n[c]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var l=2;l<i;l++)o[l]=t[l];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},158:function(e,n,t){"use strict";var a=t(0),r=t(20);n.a=function(){var e=Object(a.useContext)(r.a);if(null===e)throw new Error("Docusaurus context not provided");return e}},159:function(e,n,t){"use strict";function a(e){var n,t,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(t=a(e[n]))&&(r&&(r+=" "),r+=t);else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}n.a=function(){for(var e,n,t=0,r="";t<arguments.length;)(e=arguments[t++])&&(n=a(e))&&(r&&(r+=" "),r+=n);return r}},160:function(e,n,t){"use strict";t.d(n,"b",(function(){return i})),t.d(n,"a",(function(){return o}));var a=t(158),r=t(161);function i(){var e=Object(a.a)().siteConfig,n=(e=void 0===e?{}:e).baseUrl,t=void 0===n?"/":n,i=e.url;return{withBaseUrl:function(e,n){return function(e,n,t,a){var i=void 0===a?{}:a,o=i.forcePrependBaseUrl,s=void 0!==o&&o,c=i.absolute,l=void 0!==c&&c;if(!t)return t;if(t.startsWith("#"))return t;if(Object(r.b)(t))return t;if(s)return n+t;var b=!t.startsWith(n)?n+t.replace(/^\//,""):t;return l?e+b:b}(i,t,e,n)}}}function o(e,n){return void 0===n&&(n={}),(0,i().withBaseUrl)(e,n)}},161:function(e,n,t){"use strict";function a(e){return!0===/^(\w*:|\/\/)/.test(e)}function r(e){return void 0!==e&&!a(e)}t.d(n,"b",(function(){return a})),t.d(n,"a",(function(){return r}))},162:function(e,n,t){"use strict";var a=t(0),r=Object(a.createContext)(void 0);n.a=r},163:function(e,n,t){"use strict";var a=t(0),r=t(162);n.a=function(){var e=Object(a.useContext)(r.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},164:function(e,n,t){"use strict";var a=t(0),r=t.n(a),i=t(163),o=t(159),s=t(48),c=t.n(s),l=37,b=39;n.a=function(e){var n=e.block,t=e.children,s=e.defaultValue,p=e.values,d=e.groupId,u=Object(i.a)(),O=u.tabGroupChoices,m=u.setTabGroupChoices,g=Object(a.useState)(s),h=g[0],j=g[1],v=Object(a.useState)(!1),f=v[0],N=v[1];if(null!=d){var y=O[d];null!=y&&y!==h&&p.some((function(e){return e.value===y}))&&j(y)}var z=function(e){j(e),null!=d&&m(d,e)},T=[],E=function(e){e.metaKey||e.altKey||e.ctrlKey||N(!0)},w=function(){N(!1)};return Object(a.useEffect)((function(){window.addEventListener("keydown",E),window.addEventListener("mousedown",w)}),[]),r.a.createElement("div",null,r.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(o.a)("tabs",{"tabs--block":n})},p.map((function(e){var n=e.value,t=e.label;return r.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":h===n,className:Object(o.a)("tabs__item",c.a.tabItem,{"tabs__item--active":h===n}),style:f?{}:{outline:"none"},key:n,ref:function(e){return T.push(e)},onKeyDown:function(e){!function(e,n,t){switch(t.keyCode){case b:!function(e,n){var t=e.indexOf(n)+1;e[t]?e[t].focus():e[0].focus()}(e,n);break;case l:!function(e,n){var t=e.indexOf(n)-1;e[t]?e[t].focus():e[e.length-1].focus()}(e,n)}}(T,e.target,e),E(e)},onFocus:function(){return z(n)},onClick:function(){z(n),N(!1)},onPointerDown:function(){return N(!1)}},t)}))),r.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},a.Children.toArray(t).filter((function(e){return e.props.value===h}))[0]))}},165:function(e,n,t){"use strict";var a=t(0),r=t.n(a);n.a=function(e){return r.a.createElement("div",null,e.children)}},78:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return c})),t.d(n,"metadata",(function(){return l})),t.d(n,"rightToc",(function(){return b})),t.d(n,"default",(function(){return d}));var a=t(2),r=t(6),i=(t(0),t(157)),o=t(164),s=t(165),c=(t(160),{title:"Provider Organizations",description:"Organizations - Endpoints",sidebar_label:"Provider Organizations"}),l={unversionedId:"provider_organizations",id:"provider_organizations",isDocsHomePage:!1,title:"Provider Organizations",description:"Organizations - Endpoints",source:"@site/docs/provider_organizations.md",permalink:"/docs/docs/provider_organizations",editUrl:"https://github.com/Leaf-Agriculture/docs/tree/master/docs/provider_organizations.md",sidebar_label:"Provider Organizations",sidebar:"docs",previous:{title:"Integrations Endpoints",permalink:"/docs/docs/integrations_endpoints"},next:{title:"Field Boundary Management Overview",permalink:"/docs/docs/field_boundary_management_overview"}},b=[{value:"About",id:"about",children:[]},{value:"Organizations List",id:"organizations-list",children:[{value:"Get Provider Organizations",id:"get-provider-organizations",children:[]}]},{value:"Organizations Sync",id:"organizations-sync",children:[{value:"Resource",id:"resource",children:[]},{value:"Get All Provider Organizations",id:"get-all-provider-organizations",children:[]},{value:"Get a Provider Organization",id:"get-a-provider-organization",children:[]},{value:"Patch a Provider Organization",id:"patch-a-provider-organization",children:[]},{value:"Sync Provider Organizations",id:"sync-provider-organizations",children:[]}]}],p={rightToc:b};function d(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},p,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"about"},"About"),Object(i.b)("p",null,"The endpoints described here are divided into two categories. The ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"#organizations-list"}),"Organizations List")," provides tools for listing organizations that have or have not granted access to Leaf. The ",Object(i.b)("a",Object(a.a)({parentName:"p"},{href:"#organizations-sync"}),"Organization Sync")," offers tools for managing organizations to be processed, which in turn impacts associated resources such as field boundaries, operations, and assets."),Object(i.b)("p",null,"All HTTP methods should be prepended by this service's endpoint:"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{}),"https://api.withleaf.io/services/usermanagement/api\n")),Object(i.b)("p",null,"See below the REST resources and their endpoints available in this service."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Endpoints")),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Description"),Object(i.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Endpoints"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("a",Object(a.a)({parentName:"td"},{href:"#get-provider-organizations"}),"Get Provider Organizations")),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("span",{class:"badge badge--success"},"GET")," ",Object(i.b)("inlineCode",{parentName:"td"},"/users/{leafUserId}/organizations/{provider}"))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("a",Object(a.a)({parentName:"td"},{href:"#get-all-provider-organizations"}),"Get All Provider Organizations")),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("span",{class:"badge badge--success"},"GET")," ",Object(i.b)("inlineCode",{parentName:"td"},"/users/{leafUserId}/{provider}/organizations"))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("a",Object(a.a)({parentName:"td"},{href:"#get-a-provider-organization"}),"Get a Provider Organization")),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("span",{class:"badge badge--success"},"GET")," ",Object(i.b)("inlineCode",{parentName:"td"},"/users/{leafUserId}/{provider}/organizations/{provider_org_id}"))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("a",Object(a.a)({parentName:"td"},{href:"#update-a-provider-organization-status"}),"Update a Provider Organization Status")),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("span",{class:"badge badge--success"},"PATCH")," ",Object(i.b)("inlineCode",{parentName:"td"},"/users/{leafUserId}/{provider}/organizations/{provider_org_id}"))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("a",Object(a.a)({parentName:"td"},{href:"https://withleaf.io/en/tutorials/john-deere-authentication-with-leaf/"}),"Sync Provider Organizations")),Object(i.b)("td",Object(a.a)({parentName:"tr"},{align:null}),Object(i.b)("span",{class:"badge badge--success"},"POST")," ",Object(i.b)("inlineCode",{parentName:"td"},"/users/{leafUserId}/{provider}/organizations/sync"))))),Object(i.b)("h2",{id:"organizations-list"},"Organizations List"),Object(i.b)("h3",{id:"get-provider-organizations"},"Get Provider Organizations"),Object(i.b)("p",null,"\xa0",Object(i.b)("span",{class:"badge badge--success"},"GET")," ",Object(i.b)("inlineCode",{parentName:"p"},"/users/{leafUserId}/organizations/{provider}")),Object(i.b)("p",{align:"justify"},Object(i.b)("p",null,"Get provider connected and disconnected organizations from Leaf User.")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"provider"),": can be ",Object(i.b)("inlineCode",{parentName:"li"},"JohnDeere")," or ",Object(i.b)("inlineCode",{parentName:"li"},"Trimble"),".")),Object(i.b)("div",{className:"admonition admonition-info alert alert--info"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"At Trimble it is not possible to differentiate which organizations are connected or not."))),Object(i.b)("h4",{id:"request-examples"},"Request examples"),Object(i.b)(o.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(i.b)(s.a,{value:"js",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"const axios = require('axios')\nconst TOKEN = 'YOUR_TOKEN'\n\nconst endpoint = 'https://api.withleaf.io/services/usermanagement/api/users/{leafUserId}/organizations/{provider}'\nconst headers = { 'Authorization': `Bearer ${TOKEN}` }\n\naxios.get(endpoint, { headers })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n"))),Object(i.b)(s.a,{value:"py",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-py"}),"import requests\n\nTOKEN = 'YOUR_TOKEN'\n\nendpoint = 'https://api.withleaf.io/services/usermanagement/api/users/{leafUserId}/organizations/{provider}'\nheaders = {'Authorization': f'Bearer {TOKEN}'}\n\nresponse = requests.get(endpoint, headers=headers)\nprint(response.json())\n"))),Object(i.b)(s.a,{value:"sh",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell"}),"curl -X GET \\\n    -H 'Authorization: Bearer YOUR_TOKEN' \\\n    'https://api.withleaf.io/services/usermanagement/api/users/{leafUserId}/organizations/{provider}'\n")))),Object(i.b)("h4",{id:"response"},"Response"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  "connectedOrganizations": [\n    {\n      "id": "organization_id_1",\n      "name": "Organization Name 1",\n      "managementUri": "https://connections.deere.com/connections/clientKey/connections-dialog?orgId=organization_id_1"\n    }\n  ],\n  "notConnectedOrganizations": [\n    {\n      "id": "organization_id_2",\n      "name": "Organization Name 2",\n      "managementUri": "https://connections.deere.com/connections/clientKey/connections-dialog?orgId=organization_id_2"\n    }\n  ]\n}\n')),Object(i.b)("h2",{id:"organizations-sync"},"Organizations Sync"),Object(i.b)("div",{className:"admonition admonition-info alert alert--info"},Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(i.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("ul",{parentName:"div"},Object(i.b)("li",{parentName:"ul"},"The ",Object(i.b)("inlineCode",{parentName:"li"},"provider")," property value can be only be ",Object(i.b)("inlineCode",{parentName:"li"},"JohnDeere"))))),Object(i.b)("h3",{id:"resource"},"Resource"),Object(i.b)("p",null,"The properties available for a Provider Organization are."),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n  \n  "providerOrgId": "520674381", \n  "providerOrgName": "Leaf Farms", \n  "status": "SELECTED",\n  "managementUri": "https://connections.deere.com/connections/clientKey/connections-dialog?orgId=Leaf Farms"\n\n}\n')),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"The ",Object(i.b)("inlineCode",{parentName:"li"},"providerOrgId")," property references the organization ID value from the provider. For example, if the John Deere organization ID is 12345, then the ",Object(i.b)("inlineCode",{parentName:"li"},"providerOrgId")," should be 12345."),Object(i.b)("li",{parentName:"ul"},"The ",Object(i.b)("inlineCode",{parentName:"li"},"providerOrgName")," property references the value of the organization name from the provider."),Object(i.b)("li",{parentName:"ul"},"The ",Object(i.b)("inlineCode",{parentName:"li"},"managementUri")," property references the connection between your John Deere Application and the Provider Organization. If the URL alias contains the ",Object(i.b)("inlineCode",{parentName:"li"},"connections-dialog")," property then the connection is establshied with your JD Application, these Organizations can be updated between ",Object(i.b)("inlineCode",{parentName:"li"},"SELECTED")," and ",Object(i.b)("inlineCode",{parentName:"li"},"PREVIEW"),", if the management URL contains the ",Object(i.b)("inlineCode",{parentName:"li"},"select-organizations")," property then your setup with the JD Application is not complete."),Object(i.b)("li",{parentName:"ul"},"The ",Object(i.b)("inlineCode",{parentName:"li"},"status")," property represents the current state of the resource. The state of the resource can be either ",Object(i.b)("inlineCode",{parentName:"li"},"PREVIEW"),", ",Object(i.b)("inlineCode",{parentName:"li"},"SELECTED"),", or ",Object(i.b)("inlineCode",{parentName:"li"},"BLOCKED"),". ",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"If the ",Object(i.b)("inlineCode",{parentName:"li"},"status")," property has the value ",Object(i.b)("inlineCode",{parentName:"li"},"SELECTED"),", all available resources will be fetched from the provider and processed."),Object(i.b)("li",{parentName:"ul"},"If the ",Object(i.b)("inlineCode",{parentName:"li"},"status")," property has the value ",Object(i.b)("inlineCode",{parentName:"li"},"PREVIEW"),", no resources beyond the organization itself will be processed."),Object(i.b)("li",{parentName:"ul"},"If the ",Object(i.b)("inlineCode",{parentName:"li"},"status")," property has the value ",Object(i.b)("inlineCode",{parentName:"li"},"BLOCKED"),", the organization does not have the required permissions or does not have the connection, which can be checked with the ",Object(i.b)("inlineCode",{parentName:"li"},"managementUri")," to be processed by Leaf. To troubleshoot this issue please review Step 3 of the ",Object(i.b)("a",Object(a.a)({parentName:"li"},{href:"https://withleaf.io/en/tutorials/john-deere-authentication-with-leaf/"}),"John Deere Authentication Guide"),", once the setup is complete, the resource will be available with the ",Object(i.b)("inlineCode",{parentName:"li"},"PREVIEW")," status. For any additional troubleshooting options, please reach out to ",Object(i.b)("a",Object(a.a)({parentName:"li"},{href:"mailto:help@withleaf.io"}),"help@withleaf.io"))))),Object(i.b)("h3",{id:"get-all-provider-organizations"},"Get All Provider Organizations"),Object(i.b)("p",null,"\xa0",Object(i.b)("span",{class:"badge badge--success"},"GET")," ",Object(i.b)("inlineCode",{parentName:"p"},"/users/{leafUserId}/{provider}/organizations")),Object(i.b)("p",{align:"justify"},Object(i.b)("p",null,"With this endpoint users can retrieve all organizations.")),Object(i.b)("p",null,"You can also pass some parameters used exclusively for paging through results.\nThey are:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"page"),", an integer specifying the page being fetched (default is 0)"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"size"),", an integer specifying the size of the page (default is 20, max is 100)")),Object(i.b)("h4",{id:"request-examples-1"},"Request examples"),Object(i.b)(o.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(i.b)(s.a,{value:"js",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"const axios = require('axios')\nconst TOKEN = 'YOUR_TOKEN'\n\nconst endpoint = 'https://api.withleaf.io/services/usermanagement/api/users/{leafUserId}/{provider}/organizations'\nconst headers = { 'Authorization': `Bearer ${TOKEN}` }\n\naxios.get(endpoint, { headers })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n"))),Object(i.b)(s.a,{value:"py",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-py"}),"import requests\n\nTOKEN = 'YOUR_TOKEN'\n\nendpoint = 'https://api.withleaf.io/services/usermanagement/api/users/{leafUserId}/{provider}/organizations'\nheaders = {'Authorization': f'Bearer {TOKEN}'}\n\nresponse = requests.get(endpoint, headers=headers)\nprint(response.json())\n"))),Object(i.b)(s.a,{value:"sh",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell"}),"curl -X GET \\\n    -H 'Authorization: Bearer YOUR_TOKEN' \\\n    'https://api.withleaf.io/services/usermanagement/api/users/{leafUserId}/{provider}/organizations'\n")))),Object(i.b)("h4",{id:"response-1"},"Response"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'[\n  {\n    "providerOrgId": "01011000",\n    "providerOrgName": "Leaf Organization",\n    "status": "SELECTED",\n    "managementUri": "https://connections.deere.com/connections/clientKey/connections-dialog?orgId=Leaf Agriculture"\n  },\n  {\n    "providerOrgId": "123321",\n    "providerOrgName": "Agriculture Organization",\n    "status": "PREVIEW",\n    "managementUri": "https://connections.deere.com/connections/clientKey/connections-dialog?orgId=Agriculture Organization"\n  },\n  {\n    "providerOrgId": "123321",\n    "providerOrgName": "Agriculture Farm",\n    "status": "BLOCKED",\n    "managementUri": "https://connections.deere.com/connections/clientKey/select-organizations"\n  }  \n]\n\n')),Object(i.b)("h3",{id:"get-a-provider-organization"},"Get a Provider Organization"),Object(i.b)("p",null,"\xa0",Object(i.b)("span",{class:"badge badge--success"},"GET")," ",Object(i.b)("inlineCode",{parentName:"p"},"/users/{leafUserId}/{provider}/organizations")),Object(i.b)("p",{align:"justify"},Object(i.b)("p",null,"With this endpoint users can retrieve individual provider organizations.")),Object(i.b)("h4",{id:"request-examples-2"},"Request examples"),Object(i.b)(o.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(i.b)(s.a,{value:"js",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"const axios = require('axios')\nconst TOKEN = 'YOUR_TOKEN'\n\nconst endpoint = 'https://api.withleaf.io/services/usermanagement/api/users/{leafUserId}/{provider}/organizations/{providerOrgId}'\nconst headers = { 'Authorization': `Bearer ${TOKEN}` }\n\naxios.get(endpoint, { headers })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n"))),Object(i.b)(s.a,{value:"py",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-py"}),"import requests\n\nTOKEN = 'YOUR_TOKEN'\n\nendpoint = 'https://api.withleaf.io/services/usermanagement/api/users/{leafUserId}/{provider}/organizations/{providerOrgId}'\nheaders = {'Authorization': f'Bearer {TOKEN}'}\n\nresponse = requests.get(endpoint, headers=headers)\nprint(response.json())\n"))),Object(i.b)(s.a,{value:"sh",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell"}),"curl -X GET \\\n    -H 'Authorization: Bearer YOUR_TOKEN' \\\n    'https://api.withleaf.io/services/usermanagement/api/users/{leafUserId}/{provider}/organizations/{providerOrgId}'\n")))),Object(i.b)("h4",{id:"response-2"},"Response"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n    "providerOrgId": "123321",\n    "providerOrgName": "Agriculture Organization",\n    "status": "PREVIEW",\n    "managementUri": "https://connections.deere.com/connections/clientKey/connections-dialog?orgId=Agriculture Organization"\n}\n\n')),Object(i.b)("h3",{id:"patch-a-provider-organization"},"Patch a Provider Organization"),Object(i.b)("p",null,"\xa0",Object(i.b)("span",{class:"badge badge--success"},"PATCH")," ",Object(i.b)("inlineCode",{parentName:"p"},"/users/{leafUserId}/{provider}/organizations")),Object(i.b)("p",{align:"justify"},Object(i.b)("p",null,"With this endpoint, users can change the status of a provider organization. You can only change the status of a provider organization between ",Object(i.b)("inlineCode",{parentName:"p"},"SELECTED")," or ",Object(i.b)("inlineCode",{parentName:"p"},"PREVIEW"),". Also, as mentioned before, provider organizations with the ",Object(i.b)("inlineCode",{parentName:"p"},"BLOCKED")," status cannot be changed.")),Object(i.b)("h4",{id:"request-examples-3"},"Request examples"),Object(i.b)(o.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(i.b)(s.a,{value:"js",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"const axios = require('axios')\nconst TOKEN = 'YOUR_TOKEN'\n\nconst endpoint = 'https://api.withleaf.io/services/usermanagement/api/users/{leafUserId}/{provider}/organizations/{providerOrgId}/{status}'\nconst headers = { 'Authorization': `Bearer ${TOKEN}` }\n\naxios.patch(endpoint, { headers })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n"))),Object(i.b)(s.a,{value:"py",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-py"}),"import requests\n\nTOKEN = 'YOUR_TOKEN'\n\nendpoint = 'https://api.withleaf.io/services/usermanagement/api/users/{leafUserId}/{provider}/organizations/{providerOrgId}/{status}'\nheaders = {'Authorization': f'Bearer {TOKEN}'}\n\nresponse = requests.patch(endpoint, headers=headers)\nprint(response.json())\n"))),Object(i.b)(s.a,{value:"sh",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell"}),"curl -X PATCH \\\n    -H 'Authorization: Bearer YOUR_TOKEN' \\\n    'https://api.withleaf.io/services/usermanagement/api/users/{leafUserId}/{provider}/organizations/{providerOrgId}/{status}'\n")))),Object(i.b)("h4",{id:"response-3"},"Response"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-json"}),'{\n    "providerOrgId": "123321",\n    "providerOrgName": "Agriculture Organization",\n    "status": "SELECTED",\n    "managementUri": "https://connections.deere.com/connections/clientKey/connections-dialog?orgId=Agriculture Organization"\n}\n\n')),Object(i.b)("h3",{id:"sync-provider-organizations"},"Sync Provider Organizations"),Object(i.b)("p",null,"\xa0",Object(i.b)("span",{class:"badge badge--success"},"POST")," ",Object(i.b)("inlineCode",{parentName:"p"},"users/{leafUserId}/{provider}/organizations/sync")),Object(i.b)("p",{align:"justify"},Object(i.b)("p",null,"With this endpoint, users can sync their organizations to reflect the current setup on the Provider Account into Leaf's resources.")),Object(i.b)("h4",{id:"request-examples-4"},"Request examples"),Object(i.b)(o.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(i.b)(s.a,{value:"js",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"const axios = require('axios')\nconst TOKEN = 'YOUR_TOKEN'\n\nconst endpoint = 'https://api.withleaf.io/services/usermanagement/api/users/{leafUserId}/{provider}/organizations/sync'\nconst headers = { 'Authorization': `Bearer ${TOKEN}` }\n\naxios.post(endpoint, { headers })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n"))),Object(i.b)(s.a,{value:"py",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-py"}),"import requests\n\nTOKEN = 'YOUR_TOKEN'\n\nendpoint = 'https://api.withleaf.io/services/usermanagement/api/users/{leafUserId}/{provider}/organizations/sync'\nheaders = {'Authorization': f'Bearer {TOKEN}'}\n\nresponse = requests.post(endpoint, headers=headers)\nprint(response.json())\n"))),Object(i.b)(s.a,{value:"sh",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-shell"}),"curl -X PATCH \\\n    -H 'Authorization: Bearer YOUR_TOKEN' \\\n    'https://api.withleaf.io/services/usermanagement/api/users/{leafUserId}/{provider}/organizations/sync'\n")))),Object(i.b)("p",null,"This endpoint could be used on the following scenarios:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"When updating the Organization Connection using the ",Object(i.b)("inlineCode",{parentName:"li"},"managementUri")," property from the Provider Organization. Provider Organizations should have the ",Object(i.b)("inlineCode",{parentName:"li"},"status")," changed from ",Object(i.b)("inlineCode",{parentName:"li"},"BLOCKED")," to ",Object(i.b)("inlineCode",{parentName:"li"},"PREVIEW")," if the cnnection setup is correct, after the ",Object(i.b)("inlineCode",{parentName:"li"},"/sync"),"."),Object(i.b)("li",{parentName:"ul"},"If the user changes the ",Object(i.b)("inlineCode",{parentName:"li"},"organizationDataSync")," value from ",Object(i.b)("inlineCode",{parentName:"li"},"ALL")," to ",Object(i.b)("inlineCode",{parentName:"li"},"SELECTED_ONLY")," to the specfied Leaf User."),Object(i.b)("li",{parentName:"ul"},"In case of one or more missing Provider Organizations from the List, using the endpoint will trigger the process of fethcing the latest resources avaialble.")))}d.isMDXComponent=!0}}]);