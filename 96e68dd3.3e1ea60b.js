(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{115:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return l})),n.d(t,"default",(function(){return u}));var r=n(2),a=n(6),i=(n(0),n(158)),o=(n(165),n(166),n(161),{title:"Usage Monitoring overview",description:"Monitor and track your API usage across different services and features",sidebar_label:"Overview"}),c={unversionedId:"billing_usage_metrics_overview",id:"billing_usage_metrics_overview",isDocsHomePage:!1,title:"Usage Monitoring overview",description:"Monitor and track your API usage across different services and features",source:"@site/docs/billing_usage_metrics_overview.md",permalink:"/docs/docs/billing_usage_metrics_overview",editUrl:"https://github.com/Leaf-Agriculture/docs/tree/master/docs/billing_usage_metrics_overview.md",sidebar_label:"Overview",sidebar:"docs",previous:{title:"Beta > Layers Endpoints",permalink:"/docs/docs/beta_layers_endpoints"},next:{title:"Usage Monitoring endpoints",permalink:"/docs/docs/billing_usage_metrics_endpoints"}},l=[{value:"About",id:"about",children:[{value:"What Gets Tracked",id:"what-gets-tracked",children:[]},{value:"Contracts",id:"contracts",children:[]},{value:"API Owner vs Leaf User Level Tracking",id:"api-owner-vs-leaf-user-level-tracking",children:[]}]}],s={rightToc:l};function u(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"about"},"About"),Object(i.b)("p",null,"Monitor and track your usage of Leaf's services. Usage tracking measures data processing activities - not API access. You have unlimited API calls to retrieve your processed data."),Object(i.b)("p",null,"All HTTP methods should be prepended by this service's endpoint:"),Object(i.b)("pre",null,Object(i.b)("code",Object(r.a)({parentName:"pre"},{}),"https://api.withleaf.io/services/billingapplication/api\n")),Object(i.b)("h3",{id:"what-gets-tracked"},"What Gets Tracked"),Object(i.b)("p",null,"Each service tracks area differently with these product identifiers:"),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",Object(r.a)({parentName:"tr"},{align:null}),"Product ID"),Object(i.b)("th",Object(r.a)({parentName:"tr"},{align:null}),"What It Tracks"),Object(i.b)("th",Object(r.a)({parentName:"tr"},{align:null}),"When to Use"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"FIELDS_BOUNDARY")),Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"Boundary processing during contract period"),Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"Field boundary usage monitoring and billing")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"AUDIT_FIELDS_BOUNDARY")),Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"Current total boundary area"),Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"Understanding total area with Leaf")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"OPERATIONS_FILE")),Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"Machine files processed during contract period"),Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"Raw machine data processing usage monitoring")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"OPERATIONS_OPERATION")),Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"Operations processed during the contract period based on machine files intersecting boundaries"),Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"Field-specific operations usage monitoring and billing")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"SATELLITE_PROCESS_PLANET")),Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"Planet satellite imagery procssed during the contract period"),Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"Planet satellite usage monitoring and billing")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),Object(i.b)("inlineCode",{parentName:"td"},"SATELLITE_PROCESS_SENTINEL")),Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"Sentinel satellite imagery processed during the contract period"),Object(i.b)("td",Object(r.a)({parentName:"tr"},{align:null}),"Sentinel satellite usage monitoring and billing")))),Object(i.b)("p",null,"You pay for Leaf to process your data, not access it. Once processed, you have unlimited API access to it for the duration of your contract."),Object(i.b)("p",null,"Area is counted when Leaf successfully processes your data (not during uploads or if processing fails). Deleted boundaries count in the current contract term only."),Object(i.b)("h3",{id:"contracts"},"Contracts"),Object(i.b)("p",null,"Contracts are automatically generated when you start using Leaf services. Each contract tracks usage for one product type (like ",Object(i.b)("inlineCode",{parentName:"p"},"FIELDS_BOUNDARY")," or ",Object(i.b)("inlineCode",{parentName:"p"},"OPERATIONS_FILE"),") with annual cycles."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Finding Your Contracts"),": Call ",Object(i.b)("inlineCode",{parentName:"p"},"GET /billing/contracts")," to see available contracts with their IDs and tracked services."),Object(i.b)("h3",{id:"api-owner-vs-leaf-user-level-tracking"},"API Owner vs Leaf User Level Tracking"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"API Owner Level"),": Shows unique spatial area across all users (removes overlaps) for a given api owner"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("strong",{parentName:"li"},"Leaf User Level"),": Shows individual user processing (includes overlaps, used for billing)")),Object(i.b)("p",null,"The difference between these totals indicates spatial overlap - useful for identifying data duplication across your organization."))}u.isMDXComponent=!0},158:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return f}));var r=n(0),a=n.n(r);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=a.a.createContext({}),u=function(e){var t=a.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},b=function(e){var t=u(e.components);return a.a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},p=a.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),b=u(n),p=r,f=b["".concat(o,".").concat(p)]||b[p]||d[p]||i;return n?a.a.createElement(f,c(c({ref:t},s),{},{components:n})):a.a.createElement(f,c({ref:t},s))}));function f(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=p;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:r,o[1]=c;for(var s=2;s<i;s++)o[s]=n[s];return a.a.createElement.apply(null,o)}return a.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},159:function(e,t,n){"use strict";var r=n(0),a=n(20);t.a=function(){var e=Object(r.useContext)(a.a);if(null===e)throw new Error("Docusaurus context not provided");return e}},160:function(e,t,n){"use strict";function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}t.a=function(){for(var e,t,n=0,a="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}},161:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(159),a=n(162);function i(){var e=Object(r.a)().siteConfig,t=(e=void 0===e?{}:e).baseUrl,n=void 0===t?"/":t,i=e.url;return{withBaseUrl:function(e,t){return function(e,t,n,r){var i=void 0===r?{}:r,o=i.forcePrependBaseUrl,c=void 0!==o&&o,l=i.absolute,s=void 0!==l&&l;if(!n)return n;if(n.startsWith("#"))return n;if(Object(a.b)(n))return n;if(c)return t+n;var u=!n.startsWith(t)?t+n.replace(/^\//,""):n;return s?e+u:u}(i,n,e,t)}}}function o(e,t){return void 0===t&&(t={}),(0,i().withBaseUrl)(e,t)}},162:function(e,t,n){"use strict";function r(e){return!0===/^(\w*:|\/\/)/.test(e)}function a(e){return void 0!==e&&!r(e)}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}))},163:function(e,t,n){"use strict";var r=n(0),a=Object(r.createContext)(void 0);t.a=a},164:function(e,t,n){"use strict";var r=n(0),a=n(163);t.a=function(){var e=Object(r.useContext)(a.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},165:function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(164),o=n(160),c=n(48),l=n.n(c),s=37,u=39;t.a=function(e){var t=e.block,n=e.children,c=e.defaultValue,b=e.values,d=e.groupId,p=Object(i.a)(),f=p.tabGroupChoices,O=p.setTabGroupChoices,m=Object(r.useState)(c),g=m[0],v=m[1],j=Object(r.useState)(!1),y=j[0],h=j[1];if(null!=d){var w=f[d];null!=w&&w!==g&&b.some((function(e){return e.value===w}))&&v(w)}var N=function(e){v(e),null!=d&&O(d,e)},E=[],_=function(e){e.metaKey||e.altKey||e.ctrlKey||h(!0)},P=function(){h(!1)};return Object(r.useEffect)((function(){window.addEventListener("keydown",_),window.addEventListener("mousedown",P)}),[]),a.a.createElement("div",null,a.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(o.a)("tabs",{"tabs--block":t})},b.map((function(e){var t=e.value,n=e.label;return a.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":g===t,className:Object(o.a)("tabs__item",l.a.tabItem,{"tabs__item--active":g===t}),style:y?{}:{outline:"none"},key:t,ref:function(e){return E.push(e)},onKeyDown:function(e){!function(e,t,n){switch(n.keyCode){case u:!function(e,t){var n=e.indexOf(t)+1;e[n]?e[n].focus():e[0].focus()}(e,t);break;case s:!function(e,t){var n=e.indexOf(t)-1;e[n]?e[n].focus():e[e.length-1].focus()}(e,t)}}(E,e.target,e),_(e)},onFocus:function(){return N(t)},onClick:function(){N(t),h(!1)},onPointerDown:function(){return h(!1)}},n)}))),a.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},r.Children.toArray(n).filter((function(e){return e.props.value===g}))[0]))}},166:function(e,t,n){"use strict";var r=n(0),a=n.n(r);t.a=function(e){return a.a.createElement("div",null,e.children)}}}]);