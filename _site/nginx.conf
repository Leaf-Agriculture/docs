user                            root;
worker_processes                auto;

error_log                       /var/log/nginx/error.log warn;

events {
    worker_connections          1024;
}

http {
    include                     /etc/nginx/mime.types;
    default_type                application/octet-stream;
    sendfile                    off;
    access_log                  off;
    keepalive_timeout           3000;
    server {
        listen                  5000;
        server_name             docs.withleaf.io;
        server_name_in_redirect off;
        proxy_set_header Host $host:$server_port;
        client_max_body_size    16m;
        location / {
            proxy_pass  http://localhost;
            proxy_set_header X-Real-IP $remote_addr;
            add_header Last-Modified $date_gmt;
            add_header Cache-Control 'no-store, no-cache, must-revalidate, proxy-revalidate, max-age=0';
            if_modified_since off;
            expires off;
            etag off;
            }
    }

    server {
        listen                  80;
        server_name             localhost;
        root                    /usr/share/nginx/html;
        index                   index.html;
    }
}