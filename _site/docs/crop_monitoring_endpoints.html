<p>import Tabs from ‘@theme/Tabs’;
import TabItem from ‘@theme/TabItem’;
import useBaseUrl from ‘@docusaurus/useBaseUrl’;</p>

<p>All HTTP methods should be prepended by this service’s endpoint:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://api.withleaf.io/services/satellite/api
</code></pre></div></div>

<p>This service has the following endpoints available:</p>

<table>
  <thead>
    <tr>
      <th>Description</th>
      <th>Endpoints</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a href="#get-all-satellite-fields">Get all satellite fields</a></td>
      <td><span class="badge badge--success">GET</span> <code class="language-plaintext highlighter-rouge">/fields</code></td>
    </tr>
    <tr>
      <td><a href="#get-a-satellite-field">Get a satellite field</a></td>
      <td><span class="badge badge--success">GET</span> <code class="language-plaintext highlighter-rouge">/fields/{id}</code></td>
    </tr>
    <tr>
      <td><a href="#get-images-of-satellite-field">Get images of satellite field</a></td>
      <td><span class="badge badge--success">GET</span> <code class="language-plaintext highlighter-rouge">/fields/{id}/processes</code></td>
    </tr>
    <tr>
      <td><a href="#get-an-image-of-satellite-field">Get an image of satellite field</a></td>
      <td><span class="badge badge--success">GET</span> <code class="language-plaintext highlighter-rouge">/fields/{id}/processes/{id}</code></td>
    </tr>
    <tr>
      <td><a href="#create-a-satellite-field">Create a satellite field</a></td>
      <td><span class="badge badge--warning">POST</span> <code class="language-plaintext highlighter-rouge">/fields</code></td>
    </tr>
    <tr>
      <td><a href="#delete-a-satellite-field">Delete a satellite field</a></td>
      <td><span class="badge badge--danger">DELETE</span> <code class="language-plaintext highlighter-rouge">/fields/{id}</code></td>
    </tr>
    <tr>
      <td><a href="#get-subscription-for-planet">Get subscription for Planet</a></td>
      <td><span class="badge badge--success">GET</span> <code class="language-plaintext highlighter-rouge">/fields/{id}/subscription</code></td>
    </tr>
    <tr>
      <td><a href="#reprocess-satellite-images">Reprocess satelite images</a></td>
      <td><span class="badge badge--warning">POST</span> <code class="language-plaintext highlighter-rouge">/fields/{id}/process/{id}/reprocess</code></td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="endpoints">Endpoints</h2>

<h3 id="get-all-satellite-fields">Get all satellite fields</h3>

<p>&amp;nbsp<span class="badge badge--success">GET</span> <code class="language-plaintext highlighter-rouge">/fields</code></p>

<p>Returns paged results for all satellite fields registered.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">externalId</code>: external ID used in the field’s registration</li>
  <li><code class="language-plaintext highlighter-rouge">geometry</code>: a valid <a href="https://tools.ietf.org/html/rfc7946#section-3.1.7">MultiPolygon</a> GeoJSON object with the geometry of the
field</li>
</ul>

<p>&lt;Tabs
  defaultValue=”sh”
  values={[
    { label: ‘cURL’, value: ‘sh’, },
    { label: ‘Python’, value: ‘py’, },
    { label: ‘JavaScript’, value: ‘js’, },
  ]
}&gt;</p>

<TabItem value="js">

```js
const axios = require('axios')
const TOKEN = 'YOUR_TOKEN'

const endpoint ='https://api.withleaf.io/services/satellite/api/fields'
const headers = { 'Authorization': `Bearer ${TOKEN}` }

axios.get(endpoint, { headers })
    .then(res =&gt; console.log(res.data))
    .catch(console.error)
```

</TabItem>
<TabItem value="py">

```py
import requests

TOKEN = 'YOUR_TOKEN'

endpoint = 'https://api.withleaf.io/services/satellite/api/fields'
headers = {'Authorization': f'Bearer {TOKEN}'}

response = requests.get(endpoint, headers=headers)
print(response.json())
```

</TabItem>
<TabItem value="sh">

```shell
curl -X GET \
    -H 'Authorization: Bearer YOUR_TOKEN' \
    'https://api.withleaf.io/services/satellite/api/fields'
```

</TabItem>
<p>&lt;/Tabs&gt;</p>

<h4 id="response">Response</h4>

<p>It returns a list of JSON objects</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"externalId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your field id"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"geometry"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MultiPolygon"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"coordinates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
        </span><span class="nl">"providers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"sentinel"</span><span class="p">,</span><span class="w"> </span><span class="s2">"planet"</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<hr />

<h3 id="get-a-satellite-field">Get a satellite field</h3>

<p>&amp;nbsp<span class="badge badge--success">GET</span> <code class="language-plaintext highlighter-rouge">/fields/{id}</code></p>

<p>Fetches a field entry based on its external id.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">id</code>: external ID used in the field’s registration</li>
  <li><code class="language-plaintext highlighter-rouge">geometry</code>: a valid <a href="https://tools.ietf.org/html/rfc7946#section-3.1.7">MultiPolygon</a> GeoJSON object with the geometry of the
field</li>
</ul>

<p>&lt;Tabs
  defaultValue=”sh”
  values={[
    { label: ‘cURL’, value: ‘sh’, },
    { label: ‘Python’, value: ‘py’, },
    { label: ‘JavaScript’, value: ‘js’, },
  ]
}&gt;</p>

<TabItem value="js">

```js
const axios = require('axios')
const TOKEN = 'YOUR_TOKEN'

const endpoint ='https://api.withleaf.io/services/satellite/api/fields/YOUR_ID'
const headers = { 'Authorization': `Bearer ${TOKEN}` }

axios.get(endpoint, { headers })
    .then(res =&gt; console.log(res.data))
    .catch(console.error)
```

</TabItem>

<TabItem value="py">

```python
import requests

TOKEN = 'YOUR_TOKEN'

endpoint = 'https://api.withleaf.io/services/satellite/api/fields/YOUR_ID'
headers = {'Authorization': f'Bearer {TOKEN}'}

response = requests.get(endpoint, headers=headers)
print(response.json())
```

</TabItem>

<TabItem value="sh">

```shell
curl -X GET \
    -H 'Authorization: Bearer YOUR_TOKEN' \
    'https://api.withleaf.io/services/satellite/api/fields/YOUR_ID'
```

</TabItem>
<p>&lt;/Tabs&gt;</p>

<h4 id="response-1">Response</h4>

<p>It returns a single JSON object with the following entries (like each item from
<code class="language-plaintext highlighter-rouge">GET /fields</code> results):</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"externalId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your field id"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"geometry"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MultiPolygon"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"coordinates"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"providers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="s2">"sentinel"</span><span class="p">,</span><span class="w"> </span><span class="s2">"planet"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<hr />

<h3 id="get-images-of-satellite-field">Get images of satellite field</h3>

<p>&amp;nbsp<span class="badge badge--success">GET</span> <code class="language-plaintext highlighter-rouge">/fields/{id}/processes</code></p>

<p>Returns images for a given field <code class="language-plaintext highlighter-rouge">id</code>.</p>

<p>We return the following images, (tifs are EPSG:4326, pngs are EPSG:3857):</p>
<ul>
  <li>RGB as tiff and as png</li>
  <li>Colorized NDVI as tiff and as png</li>
  <li>Raw NDVI as tiff</li>
  <li>All bands as tiff.</li>
</ul>

<p><em>Check the <a href="/docs/crop_monitoring_overview#providers">comparison page</a> to identify the resolution and bands available for each provider.</em></p>

<p>It is possible to filter the results by a number of different parameters:</p>

<table>
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Type</th>
      <th>Description</th>
      <th>Default</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>startDate</td>
      <td>ISO 8601 datetime format</td>
      <td>retrieve images taken after this day</td>
      <td>-</td>
    </tr>
    <tr>
      <td>endDate</td>
      <td>ISO 8601 datetime format</td>
      <td>retrieve images taken until this day</td>
      <td>-</td>
    </tr>
    <tr>
      <td>startProcessedTimestamp</td>
      <td>ISO 8601 datetime format</td>
      <td>retrieve images processed by Leaf after this day</td>
      <td>-</td>
    </tr>
    <tr>
      <td>endProcessedTimestamp</td>
      <td>ISO 8601 datetime format</td>
      <td>retrieve images processed by Leaf until this day</td>
      <td>-</td>
    </tr>
    <tr>
      <td>maxClouds</td>
      <td>double between 0.0 and 100.0</td>
      <td>filter processes with clouds less than or equal to this percentage</td>
      <td>100</td>
    </tr>
    <tr>
      <td>minCoverage</td>
      <td>double between 0.0 and 100.0</td>
      <td>filter processes with coverage greater than or equal to this percentage</td>
      <td>0.0</td>
    </tr>
    <tr>
      <td>status</td>
      <td>string “SUCCESS”, “FAILED” or “STARTED”</td>
      <td>retrieve images with selected status</td>
      <td>SUCCESS</td>
    </tr>
    <tr>
      <td>page</td>
      <td>integer</td>
      <td>page being fetched</td>
      <td>0</td>
    </tr>
    <tr>
      <td>size</td>
      <td>integer</td>
      <td>how many processes (sets of all images) to return per page</td>
      <td>20</td>
    </tr>
    <tr>
      <td>providers</td>
      <td>array of string</td>
      <td>sentinel or/and planet</td>
      <td>If none is defined, it will created with <em>sentinel</em> only</td>
    </tr>
  </tbody>
</table>

<p>:::info Important
Default <code class="language-plaintext highlighter-rouge">page</code> is page 0 and default <code class="language-plaintext highlighter-rouge">size</code> is 20. So, to see more images,
you can either increase the size or the page number.
:::</p>

<p>&lt;Tabs
  defaultValue=”sh”
  values={[
    { label: ‘cURL’, value: ‘sh’, },
    { label: ‘Python’, value: ‘py’, },
    { label: ‘JavaScript’, value: ‘js’, },
  ]
}&gt;</p>

<TabItem value="js">

```js
const axios = require('axios')
const TOKEN = 'YOUR_TOKEN'

let endpoint = 'https://api.withleaf.io/services/satellite/api' +
               '/fields/YOUR_ID/processes'

const params = { startDate: '2020-06-03', endDate: '2020-06-10' }
const headers = { 'Authorization': `Bearer ${TOKEN}` }

axios.get(endpoint, { headers, params })
    .then(res =&gt; console.log(res.data))
    .catch(console.error)
```

</TabItem>
<TabItem value="py">

```py
import requests

TOKEN = 'YOUR_TOKEN'

endpoint = ('https://api.withleaf.io/services/satellite/api'
            '/fields/YOUR_ID/processes')

params = {'startDate': '2020-06-03', 'endDate': '2020-06-10'}
headers = {'Authorization': f'Bearer {TOKEN}'}

response = requests.get(endpoint, headers=headers, params=params)
print(response.json())
```

</TabItem>
<TabItem value="sh">

```shell
curl -X GET \
    --header 'Authorization: Bearer YOUR_TOKEN' \
    'https://api.withleaf.io/services/satellite/api/fields/YOUR_ID/processes?startDate=2020-06-03&amp;endDate=2020-06-10'
```

</TabItem>
<p>&lt;/Tabs&gt;</p>

<h4 id="response-2">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-06-03T19:03:57.882Z"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clouds"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> 
        </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sentinel"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bucketName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sentinel-s2-l1c"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bucketKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tiles/10/S/FH/2020/6/3/0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"bucketRegion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eu-central-1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"coverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
        </span><span class="nl">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"url.to.your.image.tif"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tif"</span><span class="p">,</span><span class="w">
                </span><span class="nl">"resolution"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="err">#</span><span class="w"> </span><span class="err">etc...</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="nl">"processedTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-06-03T19:03:58.881731Z"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">#</span><span class="w"> </span><span class="err">etc...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">date</code>: the date of the satellite image</li>
  <li><code class="language-plaintext highlighter-rouge">clouds</code>: cloud coverage percentage of the field, from 0 to 100</li>
  <li><code class="language-plaintext highlighter-rouge">provider</code>: the satellite provider (sentinel or planet) from where this process was created.</li>
  <li><code class="language-plaintext highlighter-rouge">bucketName</code>: name of satellite image bucket where the original tile is. Usually
<code class="language-plaintext highlighter-rouge">sentinel-s2-l1c</code> or <code class="language-plaintext highlighter-rouge">leaf-planet-images-prd</code></li>
  <li><code class="language-plaintext highlighter-rouge">bucketRegion</code>: AWS region of original image’s bucket. Usually <code class="language-plaintext highlighter-rouge">eu-central-1</code></li>
  <li><code class="language-plaintext highlighter-rouge">bucketKey</code>: base path of original satellite image</li>
  <li><code class="language-plaintext highlighter-rouge">status</code>: status of the process. It will be either <code class="language-plaintext highlighter-rouge">SUCCESS</code> or <code class="language-plaintext highlighter-rouge">FAILURE</code></li>
  <li><code class="language-plaintext highlighter-rouge">coverage</code>: data coverage percentage of the field, from 0 to 100</li>
  <li><code class="language-plaintext highlighter-rouge">images</code>: each image in this list will have the following data:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">url</code>: URL of the image</li>
      <li><code class="language-plaintext highlighter-rouge">type</code>: the type of the image. One of <code class="language-plaintext highlighter-rouge">tif</code>, <code class="language-plaintext highlighter-rouge">ndvi</code>, <code class="language-plaintext highlighter-rouge">png</code> and
  <code class="language-plaintext highlighter-rouge">tif_colorized</code></li>
      <li><code class="language-plaintext highlighter-rouge">resolution</code>: resolution, in meters, of the image. See table below</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">processedTimestamp</code>: the timestamp of when the process was processed</li>
</ul>

<hr />

<p>&amp;nbsp<span class="badge badge--success">GET</span> <code class="language-plaintext highlighter-rouge">/fields/{id}/processes/{id}</code></p>

<h3 id="get-an-image-of-satellite-field">Get an image of satellite field</h3>

<p>Returns a single process for the field.</p>

<p>&lt;Tabs
  defaultValue=”sh”
  values={[
    { label: ‘cURL’, value: ‘sh’, },
    { label: ‘Python’, value: ‘py’, },
    { label: ‘JavaScript’, value: ‘js’, },
  ]
}&gt;</p>

<TabItem value="js">

```js
const axios = require('axios')
const TOKEN = 'YOUR_TOKEN'

let endpoint = 'https://api.withleaf.io/services/satellite/api' +
               '/fields/YOUR_ID/processes/{id}'

const headers = { 'Authorization': `Bearer ${TOKEN}` }

axios.get(endpoint, { headers })
    .then(res =&gt; console.log(res.data))
    .catch(console.error)
```

</TabItem>
<TabItem value="py">

```py
import requests

TOKEN = 'YOUR_TOKEN'

endpoint = ('https://api.withleaf.io/services/satellite/api'
            '/fields/YOUR_ID/processes/{id}')

headers = {'Authorization': f'Bearer {TOKEN}'}

response = requests.get(endpoint, headers=headers)
print(response.json())
```

</TabItem>
<TabItem value="sh">

```shell
curl -X GET \
    --header 'Authorization: Bearer YOUR_TOKEN' \
    'https://api.withleaf.io/services/satellite/api/fields/YOUR_ID/processes/{id}'
```

</TabItem>
<p>&lt;/Tabs&gt;</p>

<h4 id="response-3">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-06-03T19:03:57.882Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"clouds"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sentinel"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bucketName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sentinel-s2-l1c"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bucketKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tiles/10/S/FH/2020/6/3/0"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"bucketRegion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eu-central-1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUCCESS"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"coverage"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
  </span><span class="nl">"images"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"url.to.your.image.tif"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tif"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"resolution"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">#</span><span class="w"> </span><span class="err">etc...</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nl">"processedTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-06-03T19:03:58.881731Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<hr />

<h3 id="create-a-satellite-field">Create a satellite field</h3>

<p>&amp;nbsp<span class="badge badge--warning">POST</span> <code class="language-plaintext highlighter-rouge">/fields</code></p>

<p>Creates a new field</p>

<p>It will be continuously monitored forever, and new images will arrive based on the <a href="/docs/crop_monitoring_overview#providers">provider selected</a>, 
because each one of them has a different temporal resolution (time it takes for the satellite to go over the same field when orbiting
the Earth). If you don’t need the field anymore, you can
<a href="/docs/crop_monitoring_endpoints#delete-fieldsid">delete the field.</a></p>

<p>:::success  Note</p>

<p>By default, Leaf will return images for your field from the last
30 days (from the moment you create the field).</p>

<p>You can change that by including a “startDate” or a “daysBefore” to the body</p>

<p>:::</p>

<p>There are two ways you can do that:</p>

<ol>
  <li>set a <code class="language-plaintext highlighter-rouge">startDate</code> (ISO, “yyyy-mm-dd”) meaning Leaf will
return all images for your field since this date.</li>
  <li>set how many <code class="language-plaintext highlighter-rouge">daysBefore</code> (an integer greater than or equal to 0) you
want to get images from.</li>
</ol>

<p>Note that they are both <em>optional</em>, but you can <strong>not</strong> specify both.</p>

<p>Now let’s see the Payload</p>

<h4 id="payload">Payload</h4>
<p>The payload of this object should be like the following:</p>

<div class="language-py highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
    <span class="s">"externalId"</span><span class="p">:</span> <span class="s">"your field id"</span><span class="p">,</span>
    <span class="s">"startDate"</span><span class="p">:</span> <span class="s">"2019-01-01"</span><span class="p">,</span> 
    <span class="s">"providers"</span><span class="p">:</span> <span class="p">[</span><span class="s">"sentinel"</span><span class="p">,</span> <span class="s">"planet"</span><span class="p">],</span>
    <span class="s">"assetType"</span><span class="p">:</span> <span class="s">"analytic_sr"</span>
    <span class="s">"geometry"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s">"type"</span><span class="p">:</span> <span class="s">"MultiPolygon"</span><span class="p">,</span>
        <span class="s">"coordinates"</span><span class="p">:</span> <span class="p">[...]</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">externalId</code>: external ID used in the field’s registration.</li>
  <li><code class="language-plaintext highlighter-rouge">geometry</code>: a valid <a href="https://tools.ietf.org/html/rfc7946#section-3.1.7">MultiPolygon</a> GeoJSON object with the geometry of the
field.</li>
  <li><code class="language-plaintext highlighter-rouge">providers</code>: Specify the satellite imagery source, if none is specified, Sentinel images will be retrived by default.</li>
  <li><code class="language-plaintext highlighter-rouge">assetType</code>: If the <code class="language-plaintext highlighter-rouge">providers</code> property contains <code class="language-plaintext highlighter-rouge">planet</code> you can select which <code class="language-plaintext highlighter-rouge">assetType</code> will be retrived. Default value is <code class="language-plaintext highlighter-rouge">analytic_sr</code>.</li>
</ul>

<p>&lt;Tabs
  defaultValue=”sh”
  values={[
    { label: ‘cURL’, value: ‘sh’, },
    { label: ‘Python’, value: ‘py’, },
    { label: ‘JavaScript’, value: ‘js’, },
  ]
}&gt;</p>
<TabItem value="js">

```js
const axios = require('axios')
const TOKEN = 'YOUR_TOKEN'

let endpoint = 'https://api.withleaf.io/services/satellite/api/fields'
const headers = { 'Authorization': `Bearer ${TOKEN}` }

const data = { /* Your payload */ }

axios.post(endpoint, { headers, data })
    .then(res =&gt; console.log(res.data))
    .catch(console.error)
```

</TabItem>
<TabItem value="py">

```py
import requests

TOKEN = 'YOUR_TOKEN'

endpoint = 'https://api.withleaf.io/services/satellite/api/fields'
headers = {'Authorization': f'Bearer {TOKEN}'}

payload = {...}  # Payload

response = requests.post(endpoint, headers=headers, json=payload)
print(response.json())
```

</TabItem>
<TabItem value="sh">

```shell
curl -X POST \
    -H 'Content-Type: application/json' \
    -H 'Authorization: Bearer YOUR_TOKEN' \
    -d '{ your payload }' \
    'https://api.withleaf.io/services/satellite/api/fields'
```

</TabItem>
<p>&lt;/Tabs&gt;</p>

<p>:::info field size limit</p>
<ul>
  <li>the field cannot be larger than 50k hectares (123k acres) and</li>
  <li>cannot have a perimeter bigger than 300km (180 miles).
:::</li>
</ul>

<hr />

<h3 id="delete-a-satellite-field">Delete a satellite field</h3>

<p>&amp;nbsp<span class="badge badge--danger">DELETE</span>  <code class="language-plaintext highlighter-rouge">/fields/{id}</code></p>

<p>Deletes the field from our database.</p>

<p>:::warning
Note that the field deletion is irreversible and all images will be lost.
:::
<em>(But you can always create a new field and get images from the past, as far
as you want).</em></p>

<p>&lt;Tabs
  defaultValue=”sh”
  values={[
    { label: ‘cURL’, value: ‘sh’, },
    { label: ‘Python’, value: ‘py’, },
    { label: ‘JavaScript’, value: ‘js’, },
  ]
}&gt;</p>
<TabItem value="js">

```js
const axios = require('axios')

const TOKEN = 'YOUR_TOKEN'

const client = axios.create({
  baseURL: 'https://api.withleaf.io',
  headers: {'Authorization': `Bearer ${TOKEN}`}
})

client.delete('/fields/YOUR_ID')
  .then(res =&gt; console.log(res.statusCode))
  .catch(console.error)
```

</TabItem>
<TabItem value="py">

```py
import requests

TOKEN = 'YOUR_TOKEN'

endpoint = 'https://api.withleaf.io/services/satellite/api/fields/YOUR_ID'
headers = {'Authorization': f'Bearer {TOKEN}'}

response = requests.delete(endpoint, headers=headers)
print(response)
```

</TabItem>
<TabItem value="sh">

```shell
curl -X DELETE \
    -H 'Authorization: Bearer YOUR_TOKEN' \
    'https://api.withleaf.io/services/satellite/api/fields/YOUR_ID'
```

</TabItem>
<p>&lt;/Tabs&gt;</p>

<h3 id="get-subscription-for-planet">Get subscription for Planet</h3>

<p>&amp;nbsp <span class="badge badge--success">GET</span> <code class="language-plaintext highlighter-rouge">/fields/{id}/subscription</code></p>

<p>Get the subscription from Planet. It returns the assetTypes, itemTypes and startDate for a field.</p>

<p>&lt;Tabs
  defaultValue=”sh”
  values={[
    { label: ‘cURL’, value: ‘sh’, },
    { label: ‘Python’, value: ‘py’, },
    { label: ‘JavaScript’, value: ‘js’, },
  ]
}&gt;</p>

<TabItem value="js">

```js
const axios = require('axios')
const TOKEN = 'YOUR_TOKEN'

let endpoint = 'https://api.withleaf.io/services/satellite/api' +
               '/fields/YOUR_ID/subscription'

const headers = { 'Authorization': `Bearer ${TOKEN}` }

axios.get(endpoint, { headers })
    .then(res =&gt; console.log(res.data))
    .catch(console.error)
```

</TabItem>
<TabItem value="py">

```py
import requests

TOKEN = 'YOUR_TOKEN'

endpoint = ('https://api.withleaf.io/services/satellite/api'
            '/fields/YOUR_ID/subscription')

headers = {'Authorization': f'Bearer {TOKEN}'}

response = requests.get(endpoint, headers=headers)
print(response.json())
```

</TabItem>
<TabItem value="sh">

```shell
curl -X GET \
    --header 'Authorization: Bearer YOUR_TOKEN' \
    'https://api.withleaf.io/services/satellite/api/fields/YOUR_ID/subscription'
```

</TabItem>
<p>&lt;/Tabs&gt;</p>

<h4 id="response-4">Response</h4>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"planetAssetTypes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"analytic_sr"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"planetItemTypes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"PSOrthoTile"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nl">"startDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2022-04-01T00:00:00Z"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="reprocess-satellite-images">Reprocess satellite images</h3>
<p>&amp;nbsp<span class="badge badge--warning">POST</span>  <code class="language-plaintext highlighter-rouge">/fields/{id}/process/{id}/reprocess</code></p>

<p>Allows reprocessing the satellite images based on a <code class="language-plaintext highlighter-rouge">processId</code>.</p>

<p>&lt;Tabs
  defaultValue=”sh”
  values={[
    { label: ‘cURL’, value: ‘sh’, },
    { label: ‘Python’, value: ‘py’, },
    { label: ‘JavaScript’, value: ‘js’, },
  ]
}&gt;</p>

<TabItem value="js">

  ```js
  const axios = require('axios')
  const TOKEN = 'YOUR_TOKEN'

  const endpoint ='https://api.withleaf.io/services/operations/api/fields/{id}/process/{id}/reprocess'
  const headers = { 'Authorization': `Bearer ${TOKEN}` }

  axios.post(endpoint, { headers })
      .then(res =&gt; console.log(res.data))
      .catch(console.error)
  ```

  </TabItem>
<TabItem value="py">

  ```py
  import requests

  TOKEN = 'YOUR_TOKEN'

  endpoint = 'https://api.withleaf.io/services/operations/api/fields/{id}/process/{id}/reprocess'
  headers = {'Authorization': f'Bearer {TOKEN}'}

  response = requests.post(endpoint, headers=headers)
  print(response.json())
  ```

  </TabItem>
<TabItem value="sh">

  ```shell
  curl -X POST \
      -H 'Authorization: Bearer YOUR_TOKEN' \
      'https://api.withleaf.io/services/operations/api/fields/{id}/process/{id}/reprocess'
  ```

  </TabItem>
<p>&lt;/Tabs&gt;</p>

<h2 id="alerts">Alerts</h2>

<p>With Alerts you can be notified when something happens or changes instead of needing to repeatedly query for changes. 
Leaf Alerts support events that happen within Leaf and events that happen within supported 3rd party software.</p>

<h3 id="list-of-crop-monitoring-events">List of Crop Monitoring Events</h3>

<p>Leaf Crop Monitoring Service can Alert you on these events: <a href="/docs/alerts_events#satellite-events">list of Crop Monitoring Events</a></p>
