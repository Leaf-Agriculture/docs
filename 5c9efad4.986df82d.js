(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{157:function(e,a,n){"use strict";n.d(a,"a",(function(){return p})),n.d(a,"b",(function(){return u}));var t=n(0),i=n.n(t);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function l(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function o(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?l(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function c(e,a){if(null==e)return{};var n,t,i=function(e,a){if(null==e)return{};var n,t,i={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(i[n]=e[n]);return i}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=i.a.createContext({}),b=function(e){var a=i.a.useContext(s),n=a;return e&&(n="function"==typeof e?e(a):o(o({},a),e)),n},p=function(e){var a=b(e.components);return i.a.createElement(s.Provider,{value:a},e.children)},d={inlineCode:"code",wrapper:function(e){var a=e.children;return i.a.createElement(i.a.Fragment,{},a)}},m=i.a.forwardRef((function(e,a){var n=e.components,t=e.mdxType,r=e.originalType,l=e.parentName,s=c(e,["components","mdxType","originalType","parentName"]),p=b(n),m=t,u=p["".concat(l,".").concat(m)]||p[m]||d[m]||r;return n?i.a.createElement(u,o(o({ref:a},s),{},{components:n})):i.a.createElement(u,o({ref:a},s))}));function u(e,a){var n=arguments,t=a&&a.mdxType;if("string"==typeof e||t){var r=n.length,l=new Array(r);l[0]=m;var o={};for(var c in a)hasOwnProperty.call(a,c)&&(o[c]=a[c]);o.originalType=e,o.mdxType="string"==typeof e?e:t,l[1]=o;for(var s=2;s<r;s++)l[s]=n[s];return i.a.createElement.apply(null,l)}return i.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},158:function(e,a,n){"use strict";var t=n(0),i=n(20);a.a=function(){var e=Object(t.useContext)(i.a);if(null===e)throw new Error("Docusaurus context not provided");return e}},159:function(e,a,n){"use strict";function t(e){var a,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e))for(a=0;a<e.length;a++)e[a]&&(n=t(e[a]))&&(i&&(i+=" "),i+=n);else for(a in e)e[a]&&(i&&(i+=" "),i+=a);return i}a.a=function(){for(var e,a,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(a=t(e))&&(i&&(i+=" "),i+=a);return i}},160:function(e,a,n){"use strict";n.d(a,"b",(function(){return r})),n.d(a,"a",(function(){return l}));var t=n(158),i=n(161);function r(){var e=Object(t.a)().siteConfig,a=(e=void 0===e?{}:e).baseUrl,n=void 0===a?"/":a,r=e.url;return{withBaseUrl:function(e,a){return function(e,a,n,t){var r=void 0===t?{}:t,l=r.forcePrependBaseUrl,o=void 0!==l&&l,c=r.absolute,s=void 0!==c&&c;if(!n)return n;if(n.startsWith("#"))return n;if(Object(i.b)(n))return n;if(o)return a+n;var b=!n.startsWith(a)?a+n.replace(/^\//,""):n;return s?e+b:b}(r,n,e,a)}}}function l(e,a){return void 0===a&&(a={}),(0,r().withBaseUrl)(e,a)}},161:function(e,a,n){"use strict";function t(e){return!0===/^(\w*:|\/\/)/.test(e)}function i(e){return void 0!==e&&!t(e)}n.d(a,"b",(function(){return t})),n.d(a,"a",(function(){return i}))},162:function(e,a,n){"use strict";var t=n(0),i=Object(t.createContext)(void 0);a.a=i},163:function(e,a,n){"use strict";var t=n(0),i=n(162);a.a=function(){var e=Object(t.useContext)(i.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},164:function(e,a,n){"use strict";var t=n(0),i=n.n(t),r=n(163),l=n(159),o=n(48),c=n.n(o),s=37,b=39;a.a=function(e){var a=e.block,n=e.children,o=e.defaultValue,p=e.values,d=e.groupId,m=Object(r.a)(),u=m.tabGroupChoices,O=m.setTabGroupChoices,j=Object(t.useState)(o),h=j[0],g=j[1],N=Object(t.useState)(!1),v=N[0],f=N[1];if(null!=d){var T=u[d];null!=T&&T!==h&&p.some((function(e){return e.value===T}))&&g(T)}var y=function(e){g(e),null!=d&&O(d,e)},k=[],w=function(e){e.metaKey||e.altKey||e.ctrlKey||f(!0)},x=function(){f(!1)};return Object(t.useEffect)((function(){window.addEventListener("keydown",w),window.addEventListener("mousedown",x)}),[]),i.a.createElement("div",null,i.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(l.a)("tabs",{"tabs--block":a})},p.map((function(e){var a=e.value,n=e.label;return i.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":h===a,className:Object(l.a)("tabs__item",c.a.tabItem,{"tabs__item--active":h===a}),style:v?{}:{outline:"none"},key:a,ref:function(e){return k.push(e)},onKeyDown:function(e){!function(e,a,n){switch(n.keyCode){case b:!function(e,a){var n=e.indexOf(a)+1;e[n]?e[n].focus():e[0].focus()}(e,a);break;case s:!function(e,a){var n=e.indexOf(a)-1;e[n]?e[n].focus():e[e.length-1].focus()}(e,a)}}(k,e.target,e),w(e)},onFocus:function(){return y(a)},onClick:function(){y(a),f(!1)},onPointerDown:function(){return f(!1)}},n)}))),i.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},t.Children.toArray(n).filter((function(e){return e.props.value===h}))[0]))}},165:function(e,a,n){"use strict";var t=n(0),i=n.n(t);a.a=function(e){return i.a.createElement("div",null,e.children)}},94:function(e,a,n){"use strict";n.r(a),n.d(a,"frontMatter",(function(){return s})),n.d(a,"metadata",(function(){return b})),n.d(a,"rightToc",(function(){return p})),n.d(a,"default",(function(){return m}));var t=n(2),i=n(6),r=(n(0),n(157)),l=n(164),o=n(165),c=n(160),s={title:"Magic Link Endpoints",description:"Leaf Link > Magic Link",sidebar_label:"Endpoints"},b={unversionedId:"Magic_link_endpoints",id:"Magic_link_endpoints",isDocsHomePage:!1,title:"Magic Link Endpoints",description:"Leaf Link > Magic Link",source:"@site/docs/Magic_link_endpoints.md",permalink:"/docs/docs/Magic_link_endpoints",editUrl:"https://github.com/Leaf-Agriculture/docs/tree/master/docs/Magic_link_endpoints.md",sidebar_label:"Endpoints",sidebar:"docs",previous:{title:"Magic Link Overview",permalink:"/docs/docs/Magic_link_overview"},next:{title:"Irrigation Overview",permalink:"/docs/docs/irrigation_overview"}},p=[{value:"About",id:"about",children:[]},{value:"Magic Link",id:"magic-link",children:[{value:"Provider",id:"provider",children:[]},{value:"Authentication",id:"authentication",children:[]},{value:"File upload",id:"file-upload",children:[]}]},{value:"Magic Link with Leaf User Creation",id:"magic-link-with-leaf-user-creation",children:[{value:"Create a Provider Magic Link",id:"create-a-provider-magic-link-1",children:[]},{value:"Create an Authentication Magic Link",id:"create-an-authentication-magic-link-1",children:[]},{value:"Create a File Upload Magic Link",id:"create-a-file-upload-magic-link-1",children:[]}]},{value:"Link customization",id:"link-customization",children:[]}],d={rightToc:p};function m(e){var a=e.components,n=Object(i.a)(e,["components"]);return Object(r.b)("wrapper",Object(t.a)({},d,n,{components:a,mdxType:"MDXLayout"}),Object(r.b)("h2",{id:"about"},"About"),Object(r.b)("p",null,"All HTTP methods should be prepended by this service's endpoint:"),Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{}),"https://api.withleaf.io/services/widgets/api\n")),Object(r.b)("h2",{id:"magic-link"},"Magic Link"),Object(r.b)("h3",{id:"provider"},"Provider"),Object(r.b)("p",null,"This is a link to authenticate with multiple providers."),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"}," Endpoints ")),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(t.a)({parentName:"tr"},{align:null}),"Description"),Object(r.b)("th",Object(t.a)({parentName:"tr"},{align:null}),"Endpoints"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("a",Object(t.a)({parentName:"td"},{href:"#get-all-provider-magic-links"}),"Get all provider Magic Links")),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("span",{class:"badge badge--success"},"GET")," ",Object(r.b)("inlineCode",{parentName:"td"},"/magic-link/provider"))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("a",Object(t.a)({parentName:"td"},{href:"#get-a-provider-magic-link"}),"Get a provider Magic Link")),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("span",{class:"badge badge--success"},"GET")," ",Object(r.b)("inlineCode",{parentName:"td"},"/magic-link/provider/{magicLinkId}"))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("a",Object(t.a)({parentName:"td"},{href:"#create-a-provider-magic-link"}),"Create a provider Magic Link")),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("span",{class:"badge badge--warning"},"POST")," ",Object(r.b)("inlineCode",{parentName:"td"},"/magic-link/users/{leafUserId}/provider"))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("a",Object(t.a)({parentName:"td"},{href:"#delete-a-provider-magic-link"}),"Delete a provider Magic Link")),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("span",{class:"badge badge--danger"},"DELETE")," ",Object(r.b)("inlineCode",{parentName:"td"},"/magic-link/provider/{magicLinkId}"))))),Object(r.b)("h4",{id:"get-all-provider-magic-link"},"Get all provider Magic Link"),Object(r.b)("p",null,"\xa0",Object(r.b)("span",{class:"badge badge--success"},"GET")," ",Object(r.b)("inlineCode",{parentName:"p"},"/magic-link/provider")),Object(r.b)("p",null,"Get all created links for authentication across multiple providers."),Object(r.b)("h5",{id:"request-examples"},"Request examples"),Object(r.b)(l.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(r.b)(o.a,{value:"js",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"const axios = require('axios')\nconst TOKEN = 'YOUR_TOKEN'\n\nconst endpoint = 'https://api.withleaf.io/services/widgets/api/magic-link/provider'\nconst headers = { 'Authorization': `Bearer ${TOKEN}` }\n\naxios.get(endpoint, { headers })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n"))),Object(r.b)(o.a,{value:"py",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),"import requests\n\nTOKEN = 'YOUR_TOKEN'\n\nendpoint = 'https://api.withleaf.io/services/widgets/api/magic-link/provider'\nheaders = {'Authorization': f'Bearer {TOKEN}'}\n\nresponse = requests.get(endpoint, headers=headers)\nprint(response.json())\n"))),Object(r.b)(o.a,{value:"sh",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell"}),"curl -X GET \\\n    -H 'Authorization: Bearer YOUR_TOKEN' \\\n    'https://api.withleaf.io/services/widgets/api/magic-link/provider'\n")))),Object(r.b)("h5",{id:"response"},"Response"),Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'[\n  {\n    "id": "magicLinkId",\n    "link": "https://magic-link.withleaf.io/{magicLinkId}",\n    "createdAt": "2023-11-02T19:17:16.494Z",\n    "expiresAt": "2024-10-26T14:23:56.584Z",\n    "lastAccessedAt": "2023-11-02T19:17:18.906Z",\n    "leafUserId": "UUID",\n    "maxUsage": 3,\n    "usageCount": 0,\n    "widget": "PROVIDER",\n    "settings": {\n      "backgroundColor": "codeColor",\n      "headerImage": "URL",\n      "companyLogo": "URL",\n      "companyName": "companyName",\n      "showLeafUserName": "boolean",\n      "disconnectEnabled": "boolean"\n    },\n    "allowedProviders": [\n      "Other"\n    ]\n  },\n  ....\n]\n')),Object(r.b)("h4",{id:"get-a-provider-magic-link"},"Get a provider Magic Link"),Object(r.b)("p",null,"\xa0",Object(r.b)("span",{class:"badge badge--success"},"GET")," ",Object(r.b)("inlineCode",{parentName:"p"},"/magic-link/provider/{magicLinkId}")),Object(r.b)("p",null,"Get a created link for authentication across multiple providers."),Object(r.b)("h5",{id:"request-examples-1"},"Request examples"),Object(r.b)(l.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(r.b)(o.a,{value:"js",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"const axios = require('axios')\nconst TOKEN = 'YOUR_TOKEN'\n\nconst endpoint = 'https://api.withleaf.io/services/widgets/api/magic-link/provider/{magicLinkId}'\nconst headers = { 'Authorization': `Bearer ${TOKEN}` }\n\naxios.get(endpoint, { headers })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n"))),Object(r.b)(o.a,{value:"py",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),"import requests\n\nTOKEN = 'YOUR_TOKEN'\n\nendpoint = 'https://api.withleaf.io/services/widgets/api/magic-link/provider/{magicLinkId}'\nheaders = {'Authorization': f'Bearer {TOKEN}'}\n\nresponse = requests.get(endpoint, headers=headers)\nprint(response.json())\n"))),Object(r.b)(o.a,{value:"sh",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell"}),"curl -X GET \\\n    -H 'Authorization: Bearer YOUR_TOKEN' \\\n    'https://api.withleaf.io/services/widgets/api/magic-link/provider/{magicLinkId}'\n")))),Object(r.b)("h5",{id:"response-1"},"Response"),Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "id": "magicLinkId",\n  "link": "https://magic-link.withleaf.io/{magicLinkId}",\n  "createdAt": "2023-11-02T19:17:16.494Z",\n  "expiresAt": "2024-10-26T14:23:56.584Z",\n  "lastAccessedAt": "2023-11-02T19:17:18.906Z",\n  "leafUserId": "UUID",\n  "maxUsage": 3,\n  "usageCount": 0,\n  "widget": "PROVIDER",\n  "settings": {\n    "backgroundColor": "codeColor",\n    "headerImage": "URL",\n    "companyLogo": "URL",\n    "companyName": "companyName",\n    "showLeafUserName": "boolean",\n    "disconnectEnabled": "boolean"\n  },\n  "allowedProviders": [\n    "Other"\n  ]\n}\n')),Object(r.b)("h4",{id:"create-a-provider-magic-link"},"Create a provider Magic Link"),Object(r.b)("p",null,"\xa0",Object(r.b)("span",{class:"badge badge--warning"},"POST")," ",Object(r.b)("inlineCode",{parentName:"p"},"/magic-link/users/{leafUserId}/provider")),Object(r.b)("div",{className:"admonition admonition-info alert alert--info"},Object(r.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"Provider application info")),Object(r.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"Make sure you set up your provider application first. More info ",Object(r.b)("a",Object(t.a)({parentName:"p"},{href:"/docs/Link_provider_connection#set-up"}),"here"),"."))),Object(r.b)("p",null,"Creates a link for authentication across multiple providers."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"allowedProviders"),": the list of providers allowed in the authentication process. It can be one or more of the following: ",Object(r.b)("inlineCode",{parentName:"li"},"JohnDeere"),", ",Object(r.b)("inlineCode",{parentName:"li"},"ClimateFieldView"),", ",Object(r.b)("inlineCode",{parentName:"li"},"CNHI"),", ",Object(r.b)("inlineCode",{parentName:"li"},"AgLeader"),", ",Object(r.b)("inlineCode",{parentName:"li"},"Trimble"),", ",Object(r.b)("inlineCode",{parentName:"li"},"RavenSlingshot"),", and ",Object(r.b)("inlineCode",{parentName:"li"},"Stara"),"."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"expiresIn"),": an integer number for the expiration time, in seconds. This parameter is optional and the default value is ",Object(r.b)("inlineCode",{parentName:"li"},"900")," (minimum) and the maximum is the equivalent to 1 year.")),Object(r.b)("h5",{id:"request-body"},"Request body"),Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "expiresIn": int,\n  "allowedProviders": [\n    "providerName"\n  ]\n}\n')),Object(r.b)("h5",{id:"request-examples-2"},"Request examples"),Object(r.b)(l.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(r.b)(o.a,{value:"js",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),'const axios = require(\'axios\')\nconst TOKEN = \'YOUR_TOKEN\'\n\nconst endpoint = \'https://api.withleaf.io/services/widgets/api/magic-link/users/{leafUserId}/provider\'\nconst headers = { \'Authorization\': `Bearer ${TOKEN}` }\n\nconst data = {\n  "expiresIn": int,\n  "allowedProviders": ["providerName"],\n  "settings": {\n    "backgroundColor": "codeColor",\n    "headerImage": "URL",\n    "companyLogo": "URL",\n    "companyName": "companyName",\n    "showLeafUserName": "boolean",\n    "disconnectEnabled": "boolean"\n  }\n}\n\naxios.post(endpoint, { headers, data })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n'))),Object(r.b)(o.a,{value:"py",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),'import requests\n\nTOKEN = \'YOUR_TOKEN\'\n\nendpoint = \'https://api.withleaf.io/services/widgets/api/magic-link/users/{leafUserId}/provider\'\nheaders = {\'Authorization\': f\'Bearer {TOKEN}\'}\n  \ndata = {\n  "expiresIn": int,\n  "allowedProviders": ["providerName"],\n  "settings": {\n    "backgroundColor": "codeColor",\n    "headerImage": "URL",\n    "companyLogo": "URL",\n    "companyName": "companyName",\n    "showLeafUserName": "boolean",\n    "disconnectEnabled": "boolean"\n  }\n}\n\nresponse = requests.post(endpoint, headers=headers, json=data)\nprint(response.json())\n'))),Object(r.b)(o.a,{value:"sh",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell"}),'curl -X POST \\\n    -H \'Authorization: Bearer YOUR_TOKEN\' \\\n    -d \'{ "expiresIn": int, "allowedProviders": ["providerName"], "settings": { "backgroundColor": "codeColor", "headerImage": "URL", "companyLogo": "URL", "companyName": "companyName", "showLeafUserName": "boolean", "disconnectEnabled": "boolean" } }\'\n    \'https://api.withleaf.io/services/widgets/api/magic-link/users/{leafUserId}/provider\'\n')))),Object(r.b)("h5",{id:"response-2"},"Response"),Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "id": "magicLinkId",\n  "leafUserId": "UUID",\n  "link": "https://magic-link.withleaf.io/{magicLinkId}",\n  "expiresAt": "2010-10-10T10:10:10.000000000Z"\n}\n')),Object(r.b)("h4",{id:"delete-a-provider-magic-link"},"Delete a provider Magic Link"),Object(r.b)("p",null,"\xa0",Object(r.b)("span",{class:"badge badge--danger"},"DELETE")," ",Object(r.b)("inlineCode",{parentName:"p"},"/magic-link/provider/{magicLinkId}")),Object(r.b)("p",null,"Delete a link for authentication across multiple providers."),Object(r.b)("h5",{id:"request-examples-3"},"Request examples"),Object(r.b)(l.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(r.b)(o.a,{value:"js",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"const axios = require('axios')\nconst TOKEN = 'YOUR_TOKEN'\n\nconst endpoint = 'https://api.withleaf.io/services/widgets/api/magic-link/provider/{magicLinkId}'\nconst headers = { 'Authorization': `Bearer ${TOKEN}` }\n\naxios.delete(endpoint, { headers })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n"))),Object(r.b)(o.a,{value:"py",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),"import requests\n\nTOKEN = 'YOUR_TOKEN'\n\nendpoint = 'https://api.withleaf.io/services/widgets/api/magic-link/provider/{magicLinkId}'\nheaders = {'Authorization': f'Bearer {TOKEN}'}\n\nresponse = requests.delete(endpoint, headers=headers)\nprint(response.json())\n"))),Object(r.b)(o.a,{value:"sh",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell"}),"curl -X DELETE \\\n    -H 'Authorization: Bearer YOUR_TOKEN' \\\n    'https://api.withleaf.io/services/widgets/api/magic-link/provider/{magicLinkId}'\n")))),Object(r.b)("h3",{id:"authentication"},"Authentication"),Object(r.b)("p",null,"This is a link to authenticate with a single provider."),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"}," Endpoints ")),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(t.a)({parentName:"tr"},{align:null}),"Description"),Object(r.b)("th",Object(t.a)({parentName:"tr"},{align:null}),"Endpoints"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("a",Object(t.a)({parentName:"td"},{href:"#get-all-authentication-magic-links"}),"Get all authentication Magic Links")),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("span",{class:"badge badge--success"},"GET")," ",Object(r.b)("inlineCode",{parentName:"td"},"/magic-link/authentication"))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("a",Object(t.a)({parentName:"td"},{href:"#get-an-authentication-magic-link"}),"Get an authentication Magic Link")),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("span",{class:"badge badge--success"},"GET")," ",Object(r.b)("inlineCode",{parentName:"td"},"/magic-link/authentication/{magicLinkId}"))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("a",Object(t.a)({parentName:"td"},{href:"#create-an-authentication-magic-link"}),"Create an authentication Magic Link")),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("span",{class:"badge badge--warning"},"POST")," ",Object(r.b)("inlineCode",{parentName:"td"},"/magic-link/users/{leafUserId}/authentication"))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("a",Object(t.a)({parentName:"td"},{href:"#delete-an-authentication-magic-link"}),"Delete an authentication Magic Link")),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("span",{class:"badge badge--danger"},"DELETE")," ",Object(r.b)("inlineCode",{parentName:"td"},"/magic-link/authentication/{magicLinkId}"))))),Object(r.b)("h4",{id:"get-all-authentication-magic-links"},"Get all authentication Magic Links"),Object(r.b)("p",null,"\xa0",Object(r.b)("span",{class:"badge badge--success"},"GET")," ",Object(r.b)("inlineCode",{parentName:"p"},"/magic-link/authentication")),Object(r.b)("p",null,"Get all created links for authentication with a single provider."),Object(r.b)("h5",{id:"request-examples-4"},"Request examples"),Object(r.b)(l.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(r.b)(o.a,{value:"js",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"const axios = require('axios')\nconst TOKEN = 'YOUR_TOKEN'\n\nconst endpoint = 'https://api.withleaf.io/services/widgets/api/magic-link/authentication'\nconst headers = { 'Authorization': `Bearer ${TOKEN}` }\n\naxios.get(endpoint, { headers })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n"))),Object(r.b)(o.a,{value:"py",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),"import requests\n\nTOKEN = 'YOUR_TOKEN'\n\nendpoint = 'https://api.withleaf.io/services/widgets/api/magic-link/authentication'\nheaders = {'Authorization': f'Bearer {TOKEN}'}\n\nresponse = requests.get(endpoint, headers=headers)\nprint(response.json())\n"))),Object(r.b)(o.a,{value:"sh",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell"}),"curl -X GET \\\n    -H 'Authorization: Bearer YOUR_TOKEN' \\\n    'https://api.withleaf.io/services/widgets/api/magic-link/authentication'\n")))),Object(r.b)("h5",{id:"response-3"},"Response"),Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'[\n  {\n    "id": "magicLinkId",\n    "link": "https://magic-link.withleaf.io/{magicLinkId}",\n    "createdAt": "2023-11-02T19:17:16.494Z",\n    "expiresAt": "2024-10-26T14:23:56.584Z",\n    "lastAccessedAt": "2023-11-02T19:17:18.906Z",\n    "leafUserId": "UUID",\n    "maxUsage": 3,\n    "usageCount": 0,\n    "widget": "AUTHENTICATION",\n    "settings": {\n      "backgroundColor": "codeColor",\n      "headerImage": "URL",\n      "companyLogo": "URL",\n      "companyName": "companyName",\n      "showLeafUserName": "boolean",\n      "disconnectEnabled": "boolean"\n    },\n    "provider": "providerName"\n  },\n  ....\n]\n')),Object(r.b)("h4",{id:"get-an-authentication-magic-link"},"Get an authentication Magic Link"),Object(r.b)("p",null,"\xa0",Object(r.b)("span",{class:"badge badge--success"},"GET")," ",Object(r.b)("inlineCode",{parentName:"p"},"/magic-link/authentication/{magicLinkId}")),Object(r.b)("p",null,"Get a created link for authentication with a single provider."),Object(r.b)("h5",{id:"request-examples-5"},"Request examples"),Object(r.b)(l.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(r.b)(o.a,{value:"js",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"const axios = require('axios')\nconst TOKEN = 'YOUR_TOKEN'\n\nconst endpoint = 'https://api.withleaf.io/services/widgets/api/magic-link/authentication/{magicLinkId}'\nconst headers = { 'Authorization': `Bearer ${TOKEN}` }\n\naxios.get(endpoint, { headers })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n"))),Object(r.b)(o.a,{value:"py",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),"import requests\n\nTOKEN = 'YOUR_TOKEN'\n\nendpoint = 'https://api.withleaf.io/services/widgets/api/magic-link/authentication/{magicLinkId}'\nheaders = {'Authorization': f'Bearer {TOKEN}'}\n\nresponse = requests.get(endpoint, headers=headers)\nprint(response.json())\n"))),Object(r.b)(o.a,{value:"sh",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell"}),"curl -X GET \\\n    -H 'Authorization: Bearer YOUR_TOKEN' \\\n    'https://api.withleaf.io/services/widgets/api/magic-link/authentication/{magicLinkId}'\n")))),Object(r.b)("h5",{id:"response-4"},"Response"),Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "id": "magicLinkId",\n  "link": "https://magic-link.withleaf.io/{magicLinkId}",\n  "createdAt": "2023-11-02T19:17:16.494Z",\n  "expiresAt": "2024-10-26T14:23:56.584Z",\n  "lastAccessedAt": "2023-11-02T19:17:18.906Z",\n  "leafUserId": "UUID",\n  "maxUsage": 3,\n  "usageCount": 0,\n  "widget": "AUTHENTICATION",\n  "settings": {\n    "backgroundColor": "codeColor",\n    "headerImage": "URL",\n    "companyLogo": "URL",\n    "companyName": "companyName",\n    "showLeafUserName": "boolean",\n    "disconnectEnabled": "boolean"\n  },\n  "provider": "providerName"\n}\n')),Object(r.b)("h4",{id:"create-an-authentication-magic-link"},"Create an authentication Magic Link"),Object(r.b)("p",null,"\xa0",Object(r.b)("span",{class:"badge badge--warning"},"POST")," ",Object(r.b)("inlineCode",{parentName:"p"},"/magic-link/users/{leafUserId}/authentication")),Object(r.b)("div",{className:"admonition admonition-info alert alert--info"},Object(r.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"Provider application info")),Object(r.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"Make sure you set up your provider application first. More info ",Object(r.b)("a",Object(t.a)({parentName:"p"},{href:"/docs/Link_provider_connection#set-up"}),"here"),"."))),Object(r.b)("p",null,"Creates a link for authentication with a single provider."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"provider"),": the provider to be used in the authentication process. It can be: ",Object(r.b)("inlineCode",{parentName:"li"},"JohnDeere"),", ",Object(r.b)("inlineCode",{parentName:"li"},"ClimateFieldView"),", ",Object(r.b)("inlineCode",{parentName:"li"},"CNHI"),", ",Object(r.b)("inlineCode",{parentName:"li"},"AgLeader"),", ",Object(r.b)("inlineCode",{parentName:"li"},"Trimble"),", ",Object(r.b)("inlineCode",{parentName:"li"},"RavenSlingshot"),", or ",Object(r.b)("inlineCode",{parentName:"li"},"Stara"),"."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"expiresIn"),": an integer number for the expiration time, in seconds. This parameter is optional and the default value is ",Object(r.b)("inlineCode",{parentName:"li"},"900")," (minimum) and the maximum is the equivalent to 1 year.")),Object(r.b)("h5",{id:"request-body-1"},"Request body"),Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "expiresIn": int,\n  "provider": "providerName"\n}\n')),Object(r.b)("h5",{id:"request-examples-6"},"Request examples"),Object(r.b)(l.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(r.b)(o.a,{value:"js",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),'const axios = require(\'axios\')\nconst TOKEN = \'YOUR_TOKEN\'\n\nconst endpoint = \'https://api.withleaf.io/services/widgets/api/magic-link/users/{leafUserId}/authentication\'\nconst headers = { \'Authorization\': `Bearer ${TOKEN}` }\n\nconst data = {\n  "expiresIn": int,\n  "provider": "providerName",\n  "settings": {\n    "backgroundColor": "codeColor",\n    "headerImage": "URL",\n    "companyLogo": "URL",\n    "companyName": "companyName",\n    "showLeafUserName": "boolean",\n    "disconnectEnabled": "boolean"\n  }\n}\n\naxios.post(endpoint, { headers, data })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n'))),Object(r.b)(o.a,{value:"py",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),'import requests\n\nTOKEN = \'YOUR_TOKEN\'\n\nendpoint = \'https://api.withleaf.io/services/widgets/api/magic-link/users/{leafUserId}/authentication\'\nheaders = {\'Authorization\': f\'Bearer {TOKEN}\'}\n  \ndata = {\n  "expiresIn": int,\n  "provider": "providerName",\n  "settings": {\n    "backgroundColor": "codeColor",\n    "headerImage": "URL",\n    "companyLogo": "URL",\n    "companyName": "companyName",\n    "showLeafUserName": "boolean",\n    "disconnectEnabled": "boolean"\n  }\n}\n\nresponse = requests.post(endpoint, headers=headers, json=data)\nprint(response.json())\n'))),Object(r.b)(o.a,{value:"sh",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell"}),'curl -X POST \\\n    -H \'Authorization: Bearer YOUR_TOKEN\' \\\n    -d \'{ "expiresIn": int, "provider": "providerName", "settings": { "backgroundColor": "codeColor", "headerImage": "URL", "companyLogo": "URL", "companyName": "companyName", "showLeafUserName": "boolean", "disconnectEnabled": "boolean" } }\'\n    \'https://api.withleaf.io/services/widgets/api/magic-link/users/{leafUserId}/authentication\'\n')))),Object(r.b)("h5",{id:"response-5"},"Response"),Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "id": "magicLinkId",\n  "leafUserId": "UUID",\n  "link": "https://magic-link.withleaf.io/{magicLinkId}",\n  "expiresAt": "2010-10-10T10:10:10.000000000Z"\n}\n')),Object(r.b)("h4",{id:"delete-an-authentication-magic-link"},"Delete an authentication Magic Link"),Object(r.b)("p",null,"\xa0",Object(r.b)("span",{class:"badge badge--danger"},"DELETE")," ",Object(r.b)("inlineCode",{parentName:"p"},"/magic-link/authentication/{magicLinkId}")),Object(r.b)("p",null,"Delete a link for authentication with a single provider."),Object(r.b)("h5",{id:"request-examples-7"},"Request examples"),Object(r.b)(l.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(r.b)(o.a,{value:"js",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"const axios = require('axios')\nconst TOKEN = 'YOUR_TOKEN'\n\nconst endpoint = 'https://api.withleaf.io/services/widgets/api/magic-link/authentication/{magicLinkId}'\nconst headers = { 'Authorization': `Bearer ${TOKEN}` }\n\naxios.delete(endpoint, { headers })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n"))),Object(r.b)(o.a,{value:"py",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),"import requests\n\nTOKEN = 'YOUR_TOKEN'\n\nendpoint = 'https://api.withleaf.io/services/widgets/api/magic-link/authentication/{magicLinkId}'\nheaders = {'Authorization': f'Bearer {TOKEN}'}\n\nresponse = requests.delete(endpoint, headers=headers)\nprint(response.json())\n"))),Object(r.b)(o.a,{value:"sh",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell"}),"curl -X DELETE \\\n    -H 'Authorization: Bearer YOUR_TOKEN' \\\n    'https://api.withleaf.io/services/widgets/api/magic-link/authentication/{magicLinkId}'\n")))),Object(r.b)("h3",{id:"file-upload"},"File upload"),Object(r.b)("p",null,"This is a link to upload machine files."),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"}," Endpoints ")),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(t.a)({parentName:"tr"},{align:null}),"Description"),Object(r.b)("th",Object(t.a)({parentName:"tr"},{align:null}),"Endpoints"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("a",Object(t.a)({parentName:"td"},{href:"#get-all-file-upload-magic-links"}),"Get all file upload Magic Links")),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("span",{class:"badge badge--success"},"GET")," ",Object(r.b)("inlineCode",{parentName:"td"},"/magic-link/file-upload"))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("a",Object(t.a)({parentName:"td"},{href:"#get-a-file-upload-magic-link"}),"Get a file upload Magic Link")),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("span",{class:"badge badge--success"},"GET")," ",Object(r.b)("inlineCode",{parentName:"td"},"/magic-link/file-upload/{magicLinkId}"))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("a",Object(t.a)({parentName:"td"},{href:"#create-a-file-upload-magic-link"}),"Create a file upload Magic Link")),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("span",{class:"badge badge--warning"},"POST")," ",Object(r.b)("inlineCode",{parentName:"td"},"/magic-link/users/{leafUserId}/file-upload"))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("a",Object(t.a)({parentName:"td"},{href:"#delete-a-file-upload-magic-link"}),"Delete a file upload Magic Link")),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("span",{class:"badge badge--danger"},"DELETE")," ",Object(r.b)("inlineCode",{parentName:"td"},"/magic-link/file-upload/{magicLinkId}"))))),Object(r.b)("h4",{id:"get-all-file-upload-magic-links"},"Get all file upload Magic Links"),Object(r.b)("p",null,"\xa0",Object(r.b)("span",{class:"badge badge--success"},"GET")," ",Object(r.b)("inlineCode",{parentName:"p"},"/magic-link/file-upload")),Object(r.b)("p",null,"Get all file upload created links."),Object(r.b)("h5",{id:"request-examples-8"},"Request examples"),Object(r.b)(l.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(r.b)(o.a,{value:"js",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"const axios = require('axios')\nconst TOKEN = 'YOUR_TOKEN'\n\nconst endpoint = 'https://api.withleaf.io/services/widgets/api/magic-link/file-upload'\nconst headers = { 'Authorization': `Bearer ${TOKEN}` }\n\naxios.get(endpoint, { headers })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n"))),Object(r.b)(o.a,{value:"py",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),"import requests\n\nTOKEN = 'YOUR_TOKEN'\n\nendpoint = 'https://api.withleaf.io/services/widgets/api/magic-link/file-upload'\nheaders = {'Authorization': f'Bearer {TOKEN}'}\n\nresponse = requests.get(endpoint, headers=headers)\nprint(response.json())\n"))),Object(r.b)(o.a,{value:"sh",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell"}),"curl -X GET \\\n    -H 'Authorization: Bearer YOUR_TOKEN' \\\n    'https://api.withleaf.io/services/widgets/api/magic-link/file-upload'\n")))),Object(r.b)("h5",{id:"response-6"},"Response"),Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'[\n  {\n    "id": "magicLinkId",\n    "link": "https://magic-link.withleaf.io/{magicLinkId}",\n    "createdAt": "2023-10-30T20:47:22.630Z",\n    "expiresAt": "2023-10-30T21:02:22.729Z",\n    "lastAccessedAt": "2023-10-30T20:47:28.209Z",\n    "leafUserId": "UUID",\n    "maxUsage": 3,\n    "usageCount": 0,\n    "widget": "FILEUPLOAD",\n    "settings": {\n      "backgroundColor": "codeColor",\n      "headerImage": "URL",\n      "companyLogo": "URL",\n      "companyName": "companyName",\n      "showLeafUserName": "boolean",\n      "disconnectEnabled": "boolean"\n    }\n  },\n  ....\n]\n')),Object(r.b)("h4",{id:"get-a-file-upload-magic-link"},"Get a file upload Magic Link"),Object(r.b)("p",null,"\xa0",Object(r.b)("span",{class:"badge badge--success"},"GET")," ",Object(r.b)("inlineCode",{parentName:"p"},"/magic-link/file-upload/{magicLinkId}")),Object(r.b)("p",null,"Get a file upload created link."),Object(r.b)("h5",{id:"request-examples-9"},"Request examples"),Object(r.b)(l.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(r.b)(o.a,{value:"js",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"const axios = require('axios')\nconst TOKEN = 'YOUR_TOKEN'\n\nconst endpoint = 'https://api.withleaf.io/services/widgets/api/magic-link/file-upload/{magicLinkId}'\nconst headers = { 'Authorization': `Bearer ${TOKEN}` }\n\naxios.get(endpoint, { headers })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n"))),Object(r.b)(o.a,{value:"py",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),"import requests\n\nTOKEN = 'YOUR_TOKEN'\n\nendpoint = 'https://api.withleaf.io/services/widgets/api/magic-link/file-upload/{magicLinkId}'\nheaders = {'Authorization': f'Bearer {TOKEN}'}\n\nresponse = requests.get(endpoint, headers=headers)\nprint(response.json())\n"))),Object(r.b)(o.a,{value:"sh",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell"}),"curl -X GET \\\n    -H 'Authorization: Bearer YOUR_TOKEN' \\\n    'https://api.withleaf.io/services/widgets/api/magic-link/file-upload/{magicLinkId}'\n")))),Object(r.b)("h5",{id:"response-7"},"Response"),Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "id": "magicLinkId",\n  "link": "https://magic-link.withleaf.io/{magicLinkId}",\n  "createdAt": "2023-10-30T20:47:22.630Z",\n  "expiresAt": "2023-10-30T21:02:22.729Z",\n  "lastAccessedAt": "2023-10-30T20:47:28.209Z",\n  "leafUserId": "UUID",\n  "maxUsage": 3,\n  "usageCount": 0,\n  "widget": "FILEUPLOAD",\n  "settings": {\n    "backgroundColor": "codeColor",\n    "headerImage": "URL",\n    "companyLogo": "URL",\n    "companyName": "companyName",\n    "showLeafUserName": "boolean",\n    "disconnectEnabled": "boolean"\n  }\n}\n')),Object(r.b)("h4",{id:"create-a-file-upload-magic-link"},"Create a file upload Magic Link"),Object(r.b)("p",null,"\xa0",Object(r.b)("span",{class:"badge badge--warning"},"POST")," ",Object(r.b)("inlineCode",{parentName:"p"},"/magic-link/users/{leafUserId}/file-upload")),Object(r.b)("p",null,"Creates a file upload link."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"expiresIn"),": an integer number for the expiration time, in seconds. This parameter is optional and the default value is ",Object(r.b)("inlineCode",{parentName:"li"},"900")," (minimum) and the maximum is the equivalent to 1 year.")),Object(r.b)("h5",{id:"request-body-2"},"Request body"),Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{  \n  "expiresIn": int\n}\n')),Object(r.b)("h5",{id:"request-examples-10"},"Request examples"),Object(r.b)(l.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(r.b)(o.a,{value:"js",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),'const axios = require(\'axios\')\nconst TOKEN = \'YOUR_TOKEN\'\n\nconst endpoint = \'https://api.withleaf.io/services/widgets/api/magic-link/users/{leafUserId}/file-upload\'\nconst headers = { \'Authorization\': `Bearer ${TOKEN}`}\n\nconst data = {\n  "expiresIn": int,\n  "settings": {\n    "backgroundColor": "codeColor",\n    "headerImage": "URL",\n    "companyLogo": "URL",\n    "companyName": "companyName",\n    "showLeafUserName": "boolean",\n    "disconnectEnabled": "boolean"\n  }\n}\n\naxios.post(endpoint, { headers, data })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n'))),Object(r.b)(o.a,{value:"py",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),'import requests\n\nTOKEN = \'YOUR_TOKEN\'\n\nendpoint = \'https://api.withleaf.io/services/widgets/api/magic-link/users/{leafUserId}/file-upload\'\nheaders = {\'Authorization\': f\'Bearer {TOKEN}\'}\n\ndata = {\n  "expiresIn": int,\n  "settings": {\n    "backgroundColor": "codeColor",\n    "headerImage": "URL",\n    "companyLogo": "URL",\n    "companyName": "companyName",\n    "showLeafUserName": "boolean",\n    "disconnectEnabled": "boolean"\n  }\n}\n\nresponse = requests.post(endpoint, headers=headers, json=data)\nprint(response.json())\n'))),Object(r.b)(o.a,{value:"sh",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell"}),'curl -X POST \\\n    -H \'Authorization: Bearer YOUR_TOKEN\' \\\n    -d \'{ "expiresIn": int, "settings": { "backgroundColor": "codeColor", "headerImage": "URL", "companyLogo": "URL", "companyName": "companyName", "showLeafUserName": "boolean", "disconnectEnabled": "boolean" } }\'\n    \'https://api.withleaf.io/services/widgets/api/magic-link/users/{leafUserId}/file-upload\'\n')))),Object(r.b)("h5",{id:"response-8"},"Response"),Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "id": "magicLinkId",\n  "leafUserId": "UUID",\n  "link": "https://magic-link.withleaf.io/{magicLinkId}",\n  "expiresAt": "2010-10-10T10:10:10.000000000Z"\n}\n')),Object(r.b)("h4",{id:"delete-a-file-upload-magic-link"},"Delete a file upload Magic Link"),Object(r.b)("p",null,"\xa0",Object(r.b)("span",{class:"badge badge--danger"},"DELETE")," ",Object(r.b)("inlineCode",{parentName:"p"},"/magic-link/file-upload/{magicLinkId}")),Object(r.b)("p",null,"Delete a file upload link."),Object(r.b)("h5",{id:"request-examples-11"},"Request examples"),Object(r.b)(l.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(r.b)(o.a,{value:"js",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"const axios = require('axios')\nconst TOKEN = 'YOUR_TOKEN'\n\nconst endpoint = 'https://api.withleaf.io/services/widgets/api/magic-link/file-upload/{magicLinkId}'\nconst headers = { 'Authorization': `Bearer ${TOKEN}` }\n\naxios.delete(endpoint, { headers })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n"))),Object(r.b)(o.a,{value:"py",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),"import requests\n\nTOKEN = 'YOUR_TOKEN'\n\nendpoint = 'https://api.withleaf.io/services/widgets/api/magic-link/file-upload/{magicLinkId}'\nheaders = {'Authorization': f'Bearer {TOKEN}'}\n\nresponse = requests.delete(endpoint, headers=headers)\nprint(response.json())\n"))),Object(r.b)(o.a,{value:"sh",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell"}),"curl -X DELETE \\\n    -H 'Authorization: Bearer YOUR_TOKEN' \\\n    'https://api.withleaf.io/services/widgets/api/magic-link/file-upload/{magicLinkId}'\n")))),Object(r.b)("h2",{id:"magic-link-with-leaf-user-creation"},"Magic Link with Leaf User Creation"),Object(r.b)("p",null,"This option enables the creation of Leaf users automatically during the Magic Link creation process. The uniqueness of leaf users can be achieved using a mandatory external identifier, the ",Object(r.b)("inlineCode",{parentName:"p"},"externalId"),", which can be an ID already used in your application."),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"}," Endpoints ")),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(t.a)({parentName:"tr"},{align:null}),"Description"),Object(r.b)("th",Object(t.a)({parentName:"tr"},{align:null}),"Endpoints"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("a",Object(t.a)({parentName:"td"},{href:"#create-a-provider-magic-link-1"}),"Create a Provider Magic Link")),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("span",{class:"badge badge--warning"},"POST")," ",Object(r.b)("inlineCode",{parentName:"td"},"/magic-link/provider"))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("a",Object(t.a)({parentName:"td"},{href:"#create-an-authentication-magic-link-1"}),"Create an Authentication Magic Link")),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("span",{class:"badge badge--warning"},"POST")," ",Object(r.b)("inlineCode",{parentName:"td"},"/magic-link/authentication"))),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("a",Object(t.a)({parentName:"td"},{href:"#create-a-file-upload-magic-link-1"}),"Create a File Upload Magic Link")),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("span",{class:"badge badge--warning"},"POST")," ",Object(r.b)("inlineCode",{parentName:"td"},"/magic-link/file-upload"))))),Object(r.b)("h3",{id:"create-a-provider-magic-link-1"},"Create a Provider Magic Link"),Object(r.b)("p",null,"\xa0",Object(r.b)("span",{class:"badge badge--warning"},"POST")," ",Object(r.b)("inlineCode",{parentName:"p"},"/magic-link/provider")),Object(r.b)("div",{className:"admonition admonition-info alert alert--info"},Object(r.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"Provider application info")),Object(r.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"Make sure you set up your provider application first. More info ",Object(r.b)("a",Object(t.a)({parentName:"p"},{href:"/docs/Link_provider_connection#set-up"}),"here"),"."))),Object(r.b)("p",null,"Creates a link for authentication across multiple providers. The leaf user will be created during this process based on the ",Object(r.b)("inlineCode",{parentName:"p"},"externalId"),"."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"provider"),": the provider to be used in the authentication process. It can be: ",Object(r.b)("inlineCode",{parentName:"li"},"JohnDeere"),", ",Object(r.b)("inlineCode",{parentName:"li"},"ClimateFieldView"),", ",Object(r.b)("inlineCode",{parentName:"li"},"CNHI"),", ",Object(r.b)("inlineCode",{parentName:"li"},"AgLeader"),", ",Object(r.b)("inlineCode",{parentName:"li"},"Trimble"),", ",Object(r.b)("inlineCode",{parentName:"li"},"RavenSlingshot"),", or ",Object(r.b)("inlineCode",{parentName:"li"},"Stara"),"."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"expiresIn"),": an integer number for the expiration time, in seconds. This parameter is optional and the default value is ",Object(r.b)("inlineCode",{parentName:"li"},"900")," (minimum) and the maximum is the equivalent to 1 year."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"externalId"),": the client side user unique ID"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"name"),": it will be the name of the leaf user that we will be created. Updates in this property must be done in the Leaf user endpoints."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"email"),": it will be the email of the leaf user that we will be created. Updates in this property must be done in the Leaf user endpoints.")),Object(r.b)("div",{className:"admonition admonition-info alert alert--info"},Object(r.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(r.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"The ",Object(r.b)("inlineCode",{parentName:"p"},"name")," and ",Object(r.b)("inlineCode",{parentName:"p"},"email")," parameters are optional, they will fill in the leaf user information that we will create, when they are not informed, we will fill in the name and email with the ",Object(r.b)("inlineCode",{parentName:"p"},"externalId")," information."))),Object(r.b)("h5",{id:"request-body-3"},"Request body"),Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "name": "user_name",\n  "email": "user_email",\n  "externalId": "external_id",\n  "expiresIn": 900,\n  "allowedProviders": [\n    "provider_name"\n  ]\n}\n')),Object(r.b)("h5",{id:"request-examples-12"},"Request examples"),Object(r.b)(l.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(r.b)(o.a,{value:"js",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),'const axios = require(\'axios\')\nconst TOKEN = \'YOUR_TOKEN\'\n\nconst endpoint = \'https://api.withleaf.io/services/widgets/api/magic-link/provider\'\nconst headers = { \'Authorization\': `Bearer ${TOKEN}` }\n\nconst data = {\n  "name": "user_name",\n  "email": "user_email",\n  "externalId": "external_id",\n  "expiresIn": int,\n  "allowedProviders": ["providerName"],\n  "settings": {\n    "backgroundColor": "codeColor",\n    "headerImage": "URL",\n    "companyLogo": "URL",\n    "companyName": "companyName",\n    "showLeafUserName": "boolean",\n    "disconnectEnabled": "boolean"\n  }\n}\n\naxios.post(endpoint, { headers, data })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n'))),Object(r.b)(o.a,{value:"py",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),'import requests\n\nTOKEN = \'YOUR_TOKEN\'\n\nendpoint = \'https://api.withleaf.io/services/widgets/api/magic-link/provider\'\nheaders = {\'Authorization\': f\'Bearer {TOKEN}\'}\n  \ndata = {\n  "name": "user_name",\n  "email": "user_email",\n  "externalId": "external_id",\n  "expiresIn": int,\n  "allowedProviders": ["providerName"],\n  "settings": {\n    "backgroundColor": "codeColor",\n    "headerImage": "URL",\n    "companyLogo": "URL",\n    "companyName": "companyName",\n    "showLeafUserName": "boolean",\n    "disconnectEnabled": "boolean"\n  }\n}\n\nresponse = requests.post(endpoint, headers=headers, json=data)\nprint(response.json())\n'))),Object(r.b)(o.a,{value:"sh",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell"}),'curl -X POST \\\n    -H \'Authorization: Bearer YOUR_TOKEN\' \\\n    -d \'{ "name": "user_name", "email": "user_email", "externalId": "external_id", "expiresIn": int, "allowedProviders": ["providerName"], "settings": { "backgroundColor": "codeColor", "headerImage": "URL", "companyLogo": "URL", "companyName": "companyName", "showLeafUserName": "boolean", "disconnectEnabled": "boolean" } }\'\n    \'https://api.withleaf.io/services/widgets/api/magic-link/provider\'\n')))),Object(r.b)("h5",{id:"response-9"},"Response"),Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "id": "magicLinkId",\n  "leafUserId": "UUID",\n  "link": "https://magic-link.withleaf.io/{magicLinkId}",\n  "expiresAt": "2010-10-10T10:10:10.000000000Z"\n}\n')),Object(r.b)("h3",{id:"create-an-authentication-magic-link-1"},"Create an Authentication Magic Link"),Object(r.b)("p",null,"\xa0",Object(r.b)("span",{class:"badge badge--warning"},"POST")," ",Object(r.b)("inlineCode",{parentName:"p"},"/magic-link/authentication")),Object(r.b)("div",{className:"admonition admonition-info alert alert--info"},Object(r.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"Provider application info")),Object(r.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"Make sure you set up your provider application first. More info ",Object(r.b)("a",Object(t.a)({parentName:"p"},{href:"/docs/Link_provider_connection#set-up"}),"here"),"."))),Object(r.b)("p",null,"Creates a link for authentication with a single provider. The leaf user will be created during this process based on the ",Object(r.b)("inlineCode",{parentName:"p"},"externalId"),"."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"provider"),": the provider to be used in the authentication process. It can be: ",Object(r.b)("inlineCode",{parentName:"li"},"JohnDeere"),", ",Object(r.b)("inlineCode",{parentName:"li"},"ClimateFieldView"),", ",Object(r.b)("inlineCode",{parentName:"li"},"CNHI"),", ",Object(r.b)("inlineCode",{parentName:"li"},"AgLeader"),", ",Object(r.b)("inlineCode",{parentName:"li"},"Trimble"),", ",Object(r.b)("inlineCode",{parentName:"li"},"RavenSlingshot"),", or ",Object(r.b)("inlineCode",{parentName:"li"},"Stara"),"."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"expiresIn"),": an integer number for the expiration time, in seconds. This parameter is optional and the default value is ",Object(r.b)("inlineCode",{parentName:"li"},"900")," (minimum) and the maximum is the equivalent to 1 year."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"externalId"),": the client side user unique ID"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"name"),": it will be the name of the leaf user that we will be created. Updates in this property must be done in the Leaf user endpoints."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"email"),": it will be the email of the leaf user that we will be created. Updates in this property must be done in the Leaf user endpoints.")),Object(r.b)("div",{className:"admonition admonition-info alert alert--info"},Object(r.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(r.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"The ",Object(r.b)("inlineCode",{parentName:"p"},"name")," and ",Object(r.b)("inlineCode",{parentName:"p"},"email")," parameters are optional, they will fill in the leaf user information that we will create, when they are not informed, we will fill in the name and email with the ",Object(r.b)("inlineCode",{parentName:"p"},"externalId")," information."))),Object(r.b)("h5",{id:"request-body-4"},"Request body"),Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "name": "user_name",\n  "email": "user_email",\n  "externalId": "external_id",\n  "expiresIn": 900,\n  "provider": "provider_name"\n}\n')),Object(r.b)("h5",{id:"request-examples-13"},"Request examples"),Object(r.b)(l.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(r.b)(o.a,{value:"js",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),'const axios = require(\'axios\')\nconst TOKEN = \'YOUR_TOKEN\'\n\nconst endpoint = \'https://api.withleaf.io/services/widgets/api/magic-link/authentication\'\nconst headers = { \'Authorization\': `Bearer ${TOKEN}` }\n\nconst data = {\n  "name": "user_name",\n  "email": "user_email",\n  "externalId": "external_id",\n  "expiresIn": int,\n  "provider": "provider_name",\n  "settings": {\n    "backgroundColor": "codeColor",\n    "headerImage": "URL",\n    "companyLogo": "URL",\n    "companyName": "companyName",\n    "showLeafUserName": "boolean",\n    "disconnectEnabled": "boolean"\n  }\n}\n\naxios.post(endpoint, { headers, data })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n'))),Object(r.b)(o.a,{value:"py",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),'import requests\n\nTOKEN = \'YOUR_TOKEN\'\n\nendpoint = \'https://api.withleaf.io/services/widgets/api/magic-link/authentication\'\nheaders = {\'Authorization\': f\'Bearer {TOKEN}\'}\n  \ndata = {\n  "name": "user_name",\n  "email": "user_email",\n  "externalId": "external_id",\n  "expiresIn": int,\n  "provider": "provider_name",\n  "settings": {\n    "backgroundColor": "codeColor",\n    "headerImage": "URL",\n    "companyLogo": "URL",\n    "companyName": "companyName",\n    "showLeafUserName": "boolean",\n    "disconnectEnabled": "boolean"\n  }\n}\n\nresponse = requests.post(endpoint, headers=headers, json=data)\nprint(response.json())\n'))),Object(r.b)(o.a,{value:"sh",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell"}),'curl -X POST \\\n    -H \'Authorization: Bearer YOUR_TOKEN\' \\\n    -d \'{ "name": "user_name", "email": "user_email", "externalId": "external_id", "expiresIn": int, "provider": "provider_name", "settings": { "backgroundColor": "codeColor", "headerImage": "URL", "companyLogo": "URL", "companyName": "companyName", "showLeafUserName": "boolean", "disconnectEnabled": "boolean" } }\'\n    \'https://api.withleaf.io/services/widgets/api/magic-link/authentication\'\n')))),Object(r.b)("h5",{id:"response-10"},"Response"),Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "id": "magicLinkId",\n  "leafUserId": "UUID",\n  "link": "https://magic-link.withleaf.io/{magicLinkId}",\n  "expiresAt": "2010-10-10T10:10:10.000000000Z"\n}\n')),Object(r.b)("h3",{id:"create-a-file-upload-magic-link-1"},"Create a File Upload Magic Link"),Object(r.b)("p",null,"\xa0",Object(r.b)("span",{class:"badge badge--warning"},"POST")," ",Object(r.b)("inlineCode",{parentName:"p"},"/magic-link/file-upload")),Object(r.b)("p",null,"Create a file upload link. The leaf user will be created during this process based on the ",Object(r.b)("inlineCode",{parentName:"p"},"externalId"),"."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"expiresIn"),": an integer number for the expiration time, in seconds. This parameter is optional and the default value is ",Object(r.b)("inlineCode",{parentName:"li"},"900")," (minimum) and the maximum is the equivalent to 1 year."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"externalId"),": the client side user unique ID"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"name"),": it will be the name of the leaf user that we will be created. Updates in this property must be done in the Leaf user endpoints."),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"email"),": it will be the email of the leaf user that we will be created. Updates in this property must be done in the Leaf user endpoints.")),Object(r.b)("div",{className:"admonition admonition-info alert alert--info"},Object(r.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"info")),Object(r.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"The ",Object(r.b)("inlineCode",{parentName:"p"},"name")," and ",Object(r.b)("inlineCode",{parentName:"p"},"email")," parameters are optional, they will fill in the leaf user information that we will create, when they are not informed, we will fill in the name and email with the ",Object(r.b)("inlineCode",{parentName:"p"},"externalId")," information."))),Object(r.b)("h5",{id:"request-body-5"},"Request body"),Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "name": "user_name",\n  "email": "user_email",\n  "externalId": "external_id",\n  "expiresIn": 900\n}\n')),Object(r.b)("h5",{id:"request-examples-14"},"Request examples"),Object(r.b)(l.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(r.b)(o.a,{value:"js",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),'const axios = require(\'axios\')\nconst TOKEN = \'YOUR_TOKEN\'\n\nconst endpoint = \'https://api.withleaf.io/services/widgets/api/magic-link/file-upload\'\nconst headers = { \'Authorization\': `Bearer ${TOKEN}` }\n\nconst data = {\n  "name": "user_name",\n  "email": "user_email",\n  "externalId": "external_id",\n  "expiresIn": int,\n  "settings": {\n    "backgroundColor": "codeColor",\n    "headerImage": "URL",\n    "companyLogo": "URL",\n    "companyName": "companyName",\n    "showLeafUserName": "boolean",\n    "disconnectEnabled": "boolean"\n  }\n}\n\naxios.post(endpoint, { headers, data })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n'))),Object(r.b)(o.a,{value:"py",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),'import requests\n\nTOKEN = \'YOUR_TOKEN\'\n\nendpoint = \'https://api.withleaf.io/services/widgets/api/magic-link/file-upload\'\nheaders = {\'Authorization\': f\'Bearer {TOKEN}\'}\n  \ndata = {\n  "name": "user_name",\n  "email": "user_email",\n  "externalId": "external_id",\n  "expiresIn": int,\n  "settings": {\n    "backgroundColor": "codeColor",\n    "headerImage": "URL",\n    "companyLogo": "URL",\n    "companyName": "companyName",\n    "showLeafUserName": "boolean",\n    "disconnectEnabled": "boolean"\n  }\n}\n\nresponse = requests.post(endpoint, headers=headers, json=data)\nprint(response.json())\n'))),Object(r.b)(o.a,{value:"sh",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell"}),'curl -X POST \\\n    -H \'Authorization: Bearer YOUR_TOKEN\' \\\n    -d \'{ "name": "user_name", "email": "user_email", "externalId": "external_id", "expiresIn": int, "settings": { "backgroundColor": "codeColor", "headerImage": "URL", "companyLogo": "URL", "companyName": "companyName", "showLeafUserName": "boolean", "disconnectEnabled": "boolean" } }\'\n    \'https://api.withleaf.io/services/widgets/api/magic-link/file-upload\'\n')))),Object(r.b)("h5",{id:"response-11"},"Response"),Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "id": "magicLinkId",\n  "leafUserId": "UUID",\n  "link": "https://magic-link.withleaf.io/{magicLinkId}",\n  "expiresAt": "2010-10-10T10:10:10.000000000Z"\n}\n')),Object(r.b)("h2",{id:"link-customization"},"Link customization"),Object(r.b)("p",null,"The links can be customized using some properties described below.\nSimply fill in the ",Object(r.b)("inlineCode",{parentName:"p"},"settings")," property when creating the link."),Object(r.b)("p",{align:"center"},Object(r.b)("img",{alt:"Customization",src:Object(c.a)("img/leaf-magic-link-customization.png")})),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(t.a)({parentName:"tr"},{align:null})),Object(r.b)("th",Object(t.a)({parentName:"tr"},{align:null}),"Property"),Object(r.b)("th",Object(t.a)({parentName:"tr"},{align:null}),"Type"),Object(r.b)("th",Object(t.a)({parentName:"tr"},{align:null}),"Description"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"1"),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"backgroundColor"),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"string")),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"The application's background color in hexadecimal format, for example: ",Object(r.b)("inlineCode",{parentName:"td"},'"#c0392b"')," or ",Object(r.b)("inlineCode",{parentName:"td"},'"#27ae60"'),". The default is ",Object(r.b)("inlineCode",{parentName:"td"},"#F5F5F5"),".")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"2"),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"companyLogo"),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"string")),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"URL for the company logo.")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"3"),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"companyName"),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"string")),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"The company name.")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"4"),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"headerImage"),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"string")),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"URL to an image that will be used as a header in the application.")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"5"),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"showLeafUserName"),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"boolean")),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"Indicates whether the Leaf user name will be displayed or not. It can be ",Object(r.b)("inlineCode",{parentName:"td"},"true")," or ",Object(r.b)("inlineCode",{parentName:"td"},"false"),". The default is ",Object(r.b)("inlineCode",{parentName:"td"},"false"),".")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"6"),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),"disconnectedEnabled"),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("inlineCode",{parentName:"td"},"boolean")),Object(r.b)("td",Object(t.a)({parentName:"tr"},{align:null}),Object(r.b)("strong",{parentName:"td"},"Only enabled for provider and authentication Magic Link"),". Enables the option for the user to choose to disconnect from the provider at the end of the authentication process. It can be ",Object(r.b)("inlineCode",{parentName:"td"},"true")," or ",Object(r.b)("inlineCode",{parentName:"td"},"false"),". The default is ",Object(r.b)("inlineCode",{parentName:"td"},"false"),".")))),Object(r.b)("h4",{id:"request-examples-15"},"Request examples"),Object(r.b)(l.a,{defaultValue:"sh",values:[{label:"cURL",value:"sh"},{label:"Python",value:"py"},{label:"JavaScript",value:"js"}],mdxType:"Tabs"},Object(r.b)(o.a,{value:"js",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),'const axios = require(\'axios\')\nconst TOKEN = \'YOUR_TOKEN\'\n\nconst endpoint = \'https://api.withleaf.io/services/widgets/api/magic-link/users/{leafUserId}/provider\'\nconst headers = { \'Authorization\': `Bearer ${TOKEN}` }\n\nconst data = {\n  "expiresIn": int,\n  "allowedProviders": ["Other"],\n  "settings": {\n    "backgroundColor": "codeColor",\n    "headerImage": "URL",\n    "companyLogo": "URL",\n    "companyName": "companyName",\n    "showLeafUserName": "boolean",\n    "disconnectEnabled": "boolean"\n  }\n}\n\naxios.post(endpoint, { headers, data })\n    .then(res => console.log(res.data))\n    .catch(console.error)\n'))),Object(r.b)(o.a,{value:"py",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),'import requests\n\nTOKEN = \'YOUR_TOKEN\'\n\nendpoint = \'https://api.withleaf.io/services/widgets/api/magic-link/users/{leafUserId}/provider\'\nheaders = {\'Authorization\': f\'Bearer {TOKEN}\'}\n  \ndata = {\n  "expiresIn": int,\n  "allowedProviders": ["Other"],\n  "settings": {\n    "backgroundColor": "codeColor",\n    "headerImage": "URL",\n    "companyLogo": "URL",\n    "companyName": "companyName",\n    "showLeafUserName": "boolean",\n    "disconnectEnabled": "boolean"\n  }\n}\n\nresponse = requests.post(endpoint, headers=headers, json=data)\nprint(response.json())\n'))),Object(r.b)(o.a,{value:"sh",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-shell"}),'curl -X POST \\\n    -H \'Authorization: Bearer YOUR_TOKEN\' \\\n    -d \'{ "expiresIn": int, "allowedProviders": ["Other"], "settings": { "backgroundColor": "codeColor", "headerImage": "URL", "companyLogo": "URL", "companyName": "companyName", "showLeafUserName": "boolean", "disconnectEnabled": "boolean" } }\'\n    \'https://api.withleaf.io/services/widgets/api/magic-link/users/{leafUserId}/provider\'\n')))))}m.isMDXComponent=!0}}]);